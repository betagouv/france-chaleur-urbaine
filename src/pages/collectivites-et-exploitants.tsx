import HeadSliceForm from '@components/HeadSliceForm';
import MarkdownWrapper from '@components/MarkdownWrapper';
import { MarkdownWrapperStyled } from '@components/MarkdownWrapper/MarkdownWrapper.style';
import MainContainer from '@components/shared/layout';
import Slice, { SliceImg } from '@components/Slice';
import WrappedText from '@components/WrappedText';
import Head from 'next/head';
import styled, { createGlobalStyle } from 'styled-components';

const GlobalStyle = createGlobalStyle`
  .slice-migration-solution {
    background-repeat: no-repeat;
    background-position: right calc(50% - 25rem) bottom 50%;

    @media (min-width: 990px) {
      background-image: radial-gradient(circle, #EEF9FD 0%, #EEF9FD min(280px, 50vw), transparent min(280px, 50vw), transparent 100%);
    }

    .warning {
      @media (min-width: 990px) {
        padding-left: 13rem;
      }

      p {
        font-size: 1.1rem;
        font-size: 0.95rem;
        line-height: 1.8;
      }
    }
  }

  .slice-schema-container {
    background-repeat: no-repeat;
    background-position: right calc(50% - 28rem) bottom 50%;

    @media (min-width: 990px) {
      background-image: url(./img/rcu-illustation.svg) ;

      img {
        opacity: 0;
      }
    }

    .presentation-rcu-icon {
      &:first-of-type {
        margin-top: 3em;
      }
    }
  }

  .user-experience-description {
    position: relative;
    padding-left: 5.75em;
  }

  .enjeu-societe-description {
    .list-item {
      max-width: 350px;
    }
  }
  .enjeu-societe-img {
    max-width: 122px;
  }

  .text-ensemble {
    *:not(a) {
      color: #fff;
    }
    p {
      font-size: 1.25rem;
      font-weight: 400;
    }
  }

  .slice-carto-text {
    @media (min-width: 992px) {
      padding-left: 9rem;
    }

    @media (max-width: 991px) {
      a {
        margin: 0 auto;
        display: block;
        max-width: 14em;
        text-align: center;
      }
    }
  }

  .collectivite-rcu {
    .collectivite-rcu-body {
      display: flex;
      flex-direction: column;
      flex-wrap: wrap;

      @media (min-width: 992px) {
        flex-direction: row;
      }

      .collectivite-rcu-icon {
        display: flex;
        color: var(--bf500);
        
        @media (min-width: 992px) {
          max-width: 50%;
          padding: 3rem 5rem;
          padding-left: calc(70px + 0.75em + 5rem);
          background-position: 5rem 3.5em;
        }


        p {
          font-size: 1.15rem;
          line-height: 1.5;
        }

        strong {
          font-size: 1.25rem;
          display: inline-block;
          margin-bottom: 0.5rem;
        }
      }
    }
    .collectivite-rcu-footer {
      text-align: center;
      padding: 2rem;
    }
  }
`;

const BlockquoteSlice = styled.div`
  @media (min-width: 992px) {
    width: 50%;
  }

  padding: 0 1em;
  font-size: 1.25rem;
  font-weight: bold;
  width: 100%;
  blockquote {
    font-weight: normal;
  }
`;

const YellowHeader = styled.span`
  background-color: #efc73f;
  color: var(--bf500) !important;
  padding: 4px 16px;
`;

export default function Home() {
  return (
    <>
      <Head>
        <meta
          name="description"
          content="Un réseau de chaleur est un système de distribution de chaleur produite de façon centralisée qui permet de desservir un grand nombre d’usagers (bâtiments tertiaires publics ou privés, copropriétés, logements sociaux,...). Un des atouts majeurs des réseaux de chaleur est de permettre de mobiliser les énergies renouvelables présentes sur le territoire, difficilement distribuables autrement."
        />
        <title>
          France Chaleur Urbaine : Une solution numérique qui facilite le
          raccordement à un chauffage économique et écologique
        </title>
      </Head>

      <MainContainer currentMenu="/collectivites-et-exploitants">
        <div data-hidden={process.env.NEXT_PUBLIC_FORMSPARK_FORM_ID}>
          <GlobalStyle />

          <HeadSliceForm
            bg="./img/head-slice-bg-collectivite.png"
            pageTitle="Valorisons les réseaux de chaleur, levier de la transition énergétique"
            pageBody={`France Chaleur Urbaine, une plateforme collaborative pour accélérer les raccordements`}
            needGradient
          >
            <p />
            <p>
              <a href="#how-to-take-advantage" className="fr-btn">
                Bénéficier du service
              </a>
              {' 	\u00a0 '}
              <a href="./carte" className="fr-btn fr-btn--secondary">
                Voir la cartographie
              </a>
            </p>
          </HeadSliceForm>

          <Slice theme="color" padding={8} direction="row">
            <BlockquoteSlice>
              <MarkdownWrapper
                className="text-ensemble"
                value={`
### Ensemble, développons  
### le potentiel des réseaux de chaleur

**Dans un contexte de tension autour de l’énergie et de crise écologique,**  
France Chaleur Urbaine construit les outils qui aident les acteurs publics et privés  
à promouvoir davantage et plus facilement la solution réseaux de chaleur. 
              `}
              />
            </BlockquoteSlice>
            <BlockquoteSlice>
              <MarkdownWrapperStyled className="text-ensemble">
                <h3>
                  <YellowHeader>Le 29 sept à 10h</YellowHeader>
                </h3>
                <h3>
                  <YellowHeader>
                    Un atelier pour répondre à vos besoins
                  </YellowHeader>
                </h3>
                <p>
                  France Chaleur Urbaine se construit pour et avec vous !
                  Quelles problématiques rencontrez-vous pour déployer vos
                  réseaux de chaleur ? Quels sont vos besoins et attentes par
                  rapport à France Chaleur Urbaine ?
                  <br />
                  Nous serons à l’écoute de toutes vos propositions pour le
                  développement du service.
                </p>
                <p>
                  <a
                    className="fr-btn fr-btn--secondary"
                    href="https://bit.ly/3zSuxIw"
                    target="_blank"
                    rel="noopener noreferrer"
                  >
                    S'inscrire
                  </a>
                </p>
              </MarkdownWrapperStyled>
            </BlockquoteSlice>
          </Slice>

          <Slice
            theme="grey"
            padding={10}
            id="how-to-take-advantage"
            header={`
##### VOUS ÊTES UNE COLLECTIVITÉ OU UN EXPLOITANT  
##### Grâce à France Chaleur Urbaine vous pouvez : `}
            className="collectivite-rcu"
          >
            <MarkdownWrapper
              value={`
:::puce-icon{icon="./icons/picto-network.svg" className="collectivite-rcu-icon"}
**Communiquer sur votre réseau**  
Envoyez-nous les _données de votre réseau_ (tracé 
du réseau et des projets d’extension, périmètre 
de classement, prix...) afin qu’elles apparaîssent 
sur la cartographie France Chaleur Urbaine. Elles 
sont utiles aux copropriétaires et acteurs de la 
rénovation. 
:::

:::puce-icon{icon="./icons/picto-info.svg" className="collectivite-rcu-icon"}
**Informer les copropriétaires**  
Faites-leur connaître France Chaleur Urbaine via 
vos canaux de communication (réseaux sociaux, 
journal communal...), ils pouront ainsi découvrir 
les atouts des réseaux de chaleur, vérifier _s’ils 
sont raccordables,_ et le cas échéant, envisager 
un raccordement.
:::

:::puce-icon{icon="./icons/picto-connection.svg" className="collectivite-rcu-icon"}
**Multiplier les raccordements**  
Découvrez qui souhaiterait se raccorder sur 
votre territoire en récupérant simplement _les 
coordonnées des prospects_ raccordables qui 
ont contacté France Chaleur Urbaine.
:::

:::puce-icon{icon="./icons/picto-carto.svg" className="collectivite-rcu-icon"}
**Identifier les potentiels**  
Découvrez, sur la _cartographie,_ les bâtiments 
chauffés au gaz ou fioul et leurs caractéristiques 
afin de repérer les potentiels de développement, 
d’extension ou de création de réseaux.
:::

              `}
              className="collectivite-rcu-body"
            />
            <MarkdownWrapper
              value={`:button-link[Nous contacter]{href="mailto:france-chaleur-urbaine@developpement-durable.gouv.fr" target="_blank"}`}
              className="collectivite-rcu-footer"
            />
          </Slice>

          <Slice
            padding={10}
            className="--slice-schema-container"
            header={`
## La cartographie France Chaleur Urbaine

Un outil incontournable au service de l’accélération des raccordements
`}
          >
            <WrappedText
              textClassName="slice-carto-text"
              body={`
Visualisez sur une même carte :

::check-item[Les tracés des réseaux de chaleur]
::check-item[Les copropriétés chauffées au fioul ou gaz collectif]
::check-item[Les consommations des bâtiments résidentiels et tertiaires chauffés au gaz]

:button-link[Voir la cartographie]{href="./carte"}
`}
              imgSrc="./img/rcu-carto.jpg"
              reverse
            />
          </Slice>

          <SliceImg src="./img/collectivite-footer-bg.jpg" />
        </div>
      </MainContainer>
    </>
  );
}
