import HeadSliceForm from '@components/HeadSliceForm';
import IFrame from '@components/IFrame/IFrame';
import MarkdownWrapper from '@components/MarkdownWrapper';
import Newsletter from '@components/Newsletter/Newsletter';
import Partners from '@components/Partners/Partners';
import { growths, issues } from '@components/Ressources/config';
import Understanding from '@components/Ressources/Understanding';
import MainContainer from '@components/shared/layout';
import { GlobalStyle } from '@components/shared/layout/Global.style';
import Slice from '@components/Slice';
import WrappedText from '@components/WrappedText';
import Head from 'next/head';
import Link from 'next/link';
import styled, { createGlobalStyle } from 'styled-components';

const CollectivityGlobalStyle: any = createGlobalStyle` // TODO: Wait Fix from @types/styled-component : https://github.com/styled-components/styled-components/issues/3738
  .text-ensemble {
    *:not(a) {
      color: #fff;
    }
    p {
      font-size: 1.25rem;
      font-weight: 400;
    }
  }

  .collectivite-rcu {
    .collectivite-rcu-body {
      margin-top: 64px;

      @media (min-width: 992px) {
        display: grid;
        grid-template-columns: repeat(10, 1fr);
        grid-gap: 16px;
        grid-auto-rows: minmax(16px, auto);
      }
    }

    .collectivite-rcu-child-img {
      text-align: center;

      img {
        max-width: 100%;
      }
    }

    .collectivite-rcu-child-1 {    grid-column: 1 / 6; grid-row: 1 / 3;}
    .collectivite-rcu-child-2 {    grid-column: 7 / 11; grid-row: 2 / 4;}
    .collectivite-rcu-child-img-2 {grid-column: 2 / 7; grid-row: 2 / 4;}
    .collectivite-rcu-child-3 {    grid-column: 1 / 5; grid-row: 4;}
    .collectivite-rcu-child-img-3 {grid-column: 7 / 11; grid-row: 3 / 5;}
    .collectivite-rcu-child-4 {    grid-column: 6 / 10; grid-row: 5;}
    .collectivite-rcu-child-img-4 {grid-column: 2 / 6; grid-row: 5 / 7;}
    .collectivite-rcu-child-5 {    grid-column: 6 / 10; grid-row: 6;}
    .collectivite-rcu-footer {
      @media (max-width: 991px) {
        margin-top: 1rem;
        text-align: center;
      }
    }
  }
`;

const BlockquoteSlice = styled.div`
  text-align: center;
  font-size: 1.25rem;
  font-weight: bold;
  blockquote {
    font-weight: normal;
  }
`;

const collectivitesrCards = {
  role: issues.role,
  livraisons: issues.livraisons,
  etat: growths.etat,
};

const currentPage = 'collectivites-et-exploitants';
export default function Home() {
  return (
    <>
      <Head>
        <meta
          name="description"
          content="Un réseau de chaleur est un système de distribution de chaleur produite de façon centralisée qui permet de desservir un grand nombre d’usagers (bâtiments tertiaires publics ou privés, copropriétés, logements sociaux,...). Un des atouts majeurs des réseaux de chaleur est de permettre de mobiliser les énergies renouvelables présentes sur le territoire, difficilement distribuables autrement."
        />
        <title>
          France Chaleur Urbaine : Une solution numérique qui facilite le
          raccordement à un chauffage économique et écologique
        </title>
      </Head>

      <MainContainer currentMenu={`/${currentPage}`}>
        <div>
          <GlobalStyle />
          <CollectivityGlobalStyle />

          <HeadSliceForm
            bg="/img/head-slice-bg-collectivite.png"
            pageTitle="Valorisons les réseaux de chaleur, levier de la transition énergétique"
            pageBody={`France Chaleur Urbaine, une plateforme collaborative pour accélérer les raccordements`}
            needGradient
            withBulkEligibility
          >
            <p />
            <p>
              <Link href="#how-to-take-advantage" className="fr-btn">
                Bénéficier du service
              </Link>
              <br />
              <Link href="./carte" className="fr-btn fr-btn--secondary">
                Voir la cartographie
              </Link>
            </p>
          </HeadSliceForm>

          <Slice theme="color" padding={8}>
            <BlockquoteSlice>
              <MarkdownWrapper
                className="text-ensemble"
                value={`
### Ensemble, développons le potentiel du chauffage urbain

**Dans un contexte de tension autour de l’énergie et de crise écologique,**  
France Chaleur Urbaine construit les outils qui aident les acteurs publics et privés  
à promouvoir davantage et plus facilement la solution réseaux de chaleur. 
              `}
              />
            </BlockquoteSlice>
          </Slice>

          <Slice
            theme="grey"
            padding={10}
            id="how-to-take-advantage"
            header={`
##### VOUS ÊTES UNE COLLECTIVITÉ OU UN EXPLOITANT  
##### Grâce à France Chaleur Urbaine vous pouvez : `}
            className="collectivite-rcu"
          >
            <div className="collectivite-rcu-body">
              <MarkdownWrapper
                value={`
**Communiquez sur votre réseau**  
Envoyez-nous les données de votre réseau afin qu’elles apparaissent [sur la cartographie](/carte) France Chaleur Urbaine (tracé, projets d'extension, périmètre de développement prioritaire...).

:button-link[Voir la cartographie]{href="/carte"}
`}
                className="collectivite-rcu-child-1"
              />
              <MarkdownWrapper
                value={`
**Identifiez les potentiels**  
Découvrez, [sur la cartographie](/carte), les potentiels de densification, d’extension ou de création de réseaux.`}
                className="collectivite-rcu-child-2"
              />
              <div className="collectivite-rcu-child-img collectivite-rcu-child-img-2">
                <img src="img/collectivite-presentation-1.png" />
              </div>
              <MarkdownWrapper
                value={`
**Informez les propriétaires**  
Faites connaître France Chaleur Urbaine, les copropriétaires et les propriétaires ou exploitants d’établissements tertiaires pourront vérifier s’ils sont raccordables.

:button-link[Télécharger notre kit de communication]{href="./documentation/FCU_kit_communication.zip" tagName="downloadLink" trackEvent="Kit Com, ${currentPage}" download}
`}
                className="collectivite-rcu-child-3"
              />
              <div className="collectivite-rcu-child-img collectivite-rcu-child-img-3">
                <img src="img/collectivite-presentation-2.png" />
              </div>
              <MarkdownWrapper
                value={`
**Multipliez les raccordements**  
Découvrez qui souhaiterait se raccorder sur votre territoire en récupérant simplement les coordonnées des prospects raccordables.`}
                className="collectivite-rcu-child-4"
              />
              <div className="collectivite-rcu-child-img collectivite-rcu-child-img-4">
                <img src="img/collectivite-presentation-3.png" />
              </div>
              <MarkdownWrapper
                value={`:button-link[Nous contacter]{href="mailto:france-chaleur-urbaine@developpement-durable.gouv.fr" target="_blank"}`}
                className="collectivite-rcu-footer collectivite-rcu-child-5"
              />
            </div>
          </Slice>

          <Slice
            padding={10}
            header={`
## La cartographie France Chaleur Urbaine

Un outil incontournable au service de l’accélération des raccordements
`}
          >
            <WrappedText
              textClassName="slice-carto-text"
              body={`
Visualisez sur une même carte :

::check-item[Les tracés des réseaux de chaleur et leur périmètre de développement prioritaire]
::check-item[Les bâtiments chauffés au fioul ou gaz collectif]
::check-item[Les consommations de gaz]
::check-item[Les caractéristiques détaillées des bâtiments]

:button-link[Voir la cartographie]{href="./carte"}

:button-link[Contribuer]{href="./contribution"}
`}
              imgSrc="/img/rcu-carto.jpg"
              reverse
            />
          </Slice>

          <IFrame theme="grey" />

          <Slice
            theme="color"
            padding={8}
            direction="row"
            id="kit-de-communication"
          >
            <WrappedText
              center
              body={`### Kit de communication  

Nous mettons à votre disposition un kit de supports pour communiquer facilement sur vos réseaux de chaleur (infographie, visuels pour réseaux sociaux, article type...).

Vous souhaitez personnaliser ces supports avec votre logo ? Il suffit pour cela de [nous contacter](mailto:france-chaleur-urbaine@developpement-durable.gouv.fr).

:button-link[Télécharger]{href="./documentation/FCU_kit_communication.zip" className="fr-btn--secondary" tagName="downloadLink" trackEvent="Kit Com, ${currentPage}" download}
              `}
              imgSrc={`/img/collectivite-illu-kit-com.png`}
              imgAlt={`Kit de communication`}
            />
          </Slice>

          <Slice
            theme="color-light"
            padding={8}
            direction="row"
            id="newsletter"
          >
            <WrappedText
              center
              body={`NEWSLETTER 

### Inscrivez-vous à notre newsletter pour recevoir toutes nos dernières infos
    `}
            />
            <Newsletter />
          </Slice>
          <Slice theme="grey">
            <Understanding cards={collectivitesrCards} />
          </Slice>
          <Partners />
          <Slice theme="color-light" padding={8}>
            <WrappedText
              center
              body={`#### Le chauffage urbain, un levier pour la transition énergétique

::small[Accélérons le développement des réseaux de chaleur]

::small[Le chauffage urbain, majoritairement mis en place à l’initiative des collectivités, permet de mobiliser des [sources d’énergie locales et renouvelables](/ressources/energies-verte#contenu) faiblement carbonées.]
              
::small[La loi de transition énergétique pour la croissance verte fixe pour [objectif de multiplier par 5](/ressources/role#contenu) les quantités de chaleur livrées par les réseaux en 2030, par rapport à 2012. Cela passera par la densification des réseaux de chaleur existants, la création d’extensions ou de nouveaux réseaux, et l’augmentation de la part des énergies renouvelables alimentant les réseaux de chaleur.]
    `}
            />
          </Slice>
        </div>
      </MainContainer>
    </>
  );
}
