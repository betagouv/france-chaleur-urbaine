import HeadSliceForm from '@components/HeadSliceForm';
import MarkdownWrapper from '@components/MarkdownWrapper';
import { MarkdownWrapperStyled } from '@components/MarkdownWrapper/MarkdownWrapper.style';
import Partners from '@components/Partners/Partners';
import MainContainer from '@components/shared/layout';
import Slice, { SliceImg } from '@components/Slice';
import WrappedText from '@components/WrappedText';
import Head from 'next/head';
import styled, { createGlobalStyle } from 'styled-components';

const GlobalStyle = createGlobalStyle`
  .text-ensemble {
    *:not(a) {
      color: #fff;
    }
    p {
      font-size: 1.25rem;
      font-weight: 400;
    }
  }

  .slice-carto-text {
    @media (min-width: 992px) {
      padding-left: 9rem;
    }

    @media (max-width: 991px) {
      a {
        margin: 0 auto;
        display: block;
        max-width: 14em;
        text-align: center;
      }
    }
  }

  .collectivite-rcu {
    .collectivite-rcu-body {
      margin-top: 64px;

      @media (min-width: 992px) {
        display: grid;
        grid-template-columns: repeat(10, 1fr);
        grid-gap: 16px;
        grid-auto-rows: minmax(16px, auto);
      }
    }

    .collectivite-rcu-child-img {
      text-align: center;

      img {
        max-width: 100%;
      }
    }

    .collectivite-rcu-child-1 {    grid-column: 1 / 6; grid-row: 1 / 3;}
    .collectivite-rcu-child-2 {    grid-column: 7 / 11; grid-row: 2 / 4;}
    .collectivite-rcu-child-img-2 {grid-column: 2 / 7; grid-row: 2 / 4;}
    .collectivite-rcu-child-3 {    grid-column: 1 / 5; grid-row: 4;}
    .collectivite-rcu-child-img-3 {grid-column: 7 / 11; grid-row: 3 / 5;}
    .collectivite-rcu-child-4 {    grid-column: 6 / 10; grid-row: 5;}
    .collectivite-rcu-child-img-4 {grid-column: 2 / 6; grid-row: 5 / 7;}
    .collectivite-rcu-child-5 {    grid-column: 6 / 10; grid-row: 6;}
    .collectivite-rcu-footer {
      @media (max-width: 991px) {
        margin-top: 1rem;
        text-align: center;
      }
    }
  }
`;

const BlockquoteSlice = styled.div`
  @media (min-width: 992px) {
    width: 50%;
  }

  padding: 0 1em;
  font-size: 1.25rem;
  font-weight: bold;
  width: 100%;
  blockquote {
    font-weight: normal;
  }
`;

const YellowHeader = styled.span`
  background-color: #efc73f;
  color: var(--bf500) !important;
  padding: 4px 16px;
`;

export default function Home() {
  return (
    <>
      <Head>
        <meta
          name="description"
          content="Un réseau de chaleur est un système de distribution de chaleur produite de façon centralisée qui permet de desservir un grand nombre d’usagers (bâtiments tertiaires publics ou privés, copropriétés, logements sociaux,...). Un des atouts majeurs des réseaux de chaleur est de permettre de mobiliser les énergies renouvelables présentes sur le territoire, difficilement distribuables autrement."
        />
        <title>
          France Chaleur Urbaine : Une solution numérique qui facilite le
          raccordement à un chauffage économique et écologique
        </title>
      </Head>

      <MainContainer currentMenu="/collectivites-et-exploitants">
        <div data-hidden={process.env.NEXT_PUBLIC_FORMSPARK_FORM_ID}>
          <GlobalStyle />

          <HeadSliceForm
            bg="./img/head-slice-bg-collectivite.png"
            pageTitle="Valorisons les réseaux de chaleur, levier de la transition énergétique"
            pageBody={`France Chaleur Urbaine, une plateforme collaborative pour accélérer les raccordements`}
            needGradient
          >
            <p />
            <p>
              <a href="#how-to-take-advantage" className="fr-btn">
                Bénéficier du service
              </a>
              {' 	\u00a0 '}
              <a href="./carte" className="fr-btn fr-btn--secondary">
                Voir la cartographie
              </a>
            </p>
          </HeadSliceForm>

          <Slice theme="color" padding={8} direction="row">
            <BlockquoteSlice>
              <MarkdownWrapper
                className="text-ensemble"
                value={`
### Ensemble, développons  
### le potentiel des réseaux de chaleur

**Dans un contexte de tension autour de l’énergie et de crise écologique,**  
France Chaleur Urbaine construit les outils qui aident les acteurs publics et privés  
à promouvoir davantage et plus facilement la solution réseaux de chaleur. 
              `}
              />
            </BlockquoteSlice>
            <BlockquoteSlice>
              <MarkdownWrapperStyled className="text-ensemble">
                <h3>
                  <YellowHeader>Le 29 sept à 10h</YellowHeader>
                </h3>
                <h3>
                  <YellowHeader>
                    Un atelier pour répondre à vos besoins
                  </YellowHeader>
                </h3>
                <p>
                  France Chaleur Urbaine se construit pour et avec vous !
                  Quelles problématiques rencontrez-vous pour déployer vos
                  réseaux de chaleur ? Quels sont vos besoins et attentes par
                  rapport à France Chaleur Urbaine ?
                  <br />
                  Nous serons à l’écoute de toutes vos propositions pour le
                  développement du service.
                </p>
                <p>
                  <a
                    className="fr-btn fr-btn--secondary"
                    href="https://bit.ly/3zSuxIw"
                    target="_blank"
                    rel="noopener noreferrer"
                  >
                    S'inscrire
                  </a>
                </p>
              </MarkdownWrapperStyled>
            </BlockquoteSlice>
          </Slice>

          <Slice
            theme="grey"
            padding={10}
            id="how-to-take-advantage"
            header={`
##### VOUS ÊTES UNE COLLECTIVITÉ OU UN EXPLOITANT  
##### Grâce à France Chaleur Urbaine vous pouvez : `}
            className="collectivite-rcu"
          >
            <div className="collectivite-rcu-body">
              <MarkdownWrapper
                value={`
**Communiquez sur votre réseau**  
Envoyez-nous les données de votre réseau 
afin qu’elles apparaissent sur la cartographie 
France Chaleur Urbaine (tracé, projets 
d'extension, zone de développement prioritaire...).`}
                className="collectivite-rcu-child-1"
              />
              <MarkdownWrapper
                value={`
**Identifiez les potentiels**  
Découvrez, sur la cartographie, les potentiels de 
densification, d’extension ou de création de réseaux.`}
                className="collectivite-rcu-child-2"
              />
              <div className="collectivite-rcu-child-img collectivite-rcu-child-img-2">
                <img src="img/collectivite-presentation-1.png" />
              </div>
              <MarkdownWrapper
                value={`
**Informez les propriétaires**  
Faites connaître France Chaleur Urbaine, les copropriétaires 
et les propriétaires ou exploitants d’établissements 
tertiaires pouront vérifier s’ils sont raccordables.`}
                className="collectivite-rcu-child-3"
              />
              <div className="collectivite-rcu-child-img collectivite-rcu-child-img-3">
                <img src="img/collectivite-presentation-2.png" />
              </div>
              <MarkdownWrapper
                value={`
**Multipliez les raccordements**  
Découvrez qui souhaiterait se raccorder sur votre territoire 
en récupérant simplement les coordonnées des prospects raccordables.`}
                className="collectivite-rcu-child-4"
              />
              <div className="collectivite-rcu-child-img collectivite-rcu-child-img-4">
                <img src="img/collectivite-presentation-3.png" />
              </div>
              <MarkdownWrapper
                value={`:button-link[Nous contacter]{href="mailto:france-chaleur-urbaine@developpement-durable.gouv.fr" target="_blank"}`}
                className="collectivite-rcu-footer collectivite-rcu-child-5"
              />
            </div>
          </Slice>

          <Slice
            padding={10}
            header={`
## La cartographie France Chaleur Urbaine

Un outil incontournable au service de l’accélération des raccordements
`}
          >
            <WrappedText
              textClassName="slice-carto-text"
              body={`
Visualisez sur une même carte :

::check-item[Les tracés des réseaux de chaleur]
::check-item[Les copropriétés chauffées au fioul ou gaz collectif]
::check-item[Les consommations des bâtiments résidentiels et tertiaires chauffés au gaz]

:button-link[Voir la cartographie]{href="./carte"}
:button-link[Contribuez]{href="./contribution"}
`}
              imgSrc="./img/rcu-carto.jpg"
              reverse
            />
          </Slice>

          <Partners />
          <SliceImg src="./img/collectivite-footer-bg.jpg" />
        </div>
      </MainContainer>
    </>
  );
}
