(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[86],{5453:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return ce}});var n=t(9499),i=t(29),a=t(6835),s=t(7794),o=t.n(s),c=t(2175),l=t(7294),u=t(4231),d=function(e,r){var t=r.errors,n=r.touched;return!(!(0,c.u9)(t,e)||!(0,c.u9)(n,e))},f=t(5893);function p(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?p(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var b=function(e){var r=e.label,t=e.field,n=e.form,i=d(t.name,n),a=i?"fr-checkbox-group--error":"";return(0,f.jsxs)("div",{className:"fr-checkbox-group ".concat(a),children:[(0,f.jsx)("input",m({type:"checkbox",id:t.name},t)),(0,f.jsx)("label",{htmlFor:t.name,className:"fr-label",children:r}),i&&(0,f.jsx)(c.Bc,{name:t.name,component:"p",className:"fr-error-text"})]})},h="J\u2019accepte que les donn\xe9es collect\xe9es soient utilis\xe9es \xe0 des fins d\u2019analyse par le minist\xe8re de la transition \xe9cologique. (*)",g="J\u2019accepte que ma demande soit communiqu\xe9e \xe0 ma commune et au gestionnaire du r\xe9seau le plus proche (sans aucun engagement de ma part). (*)",j={collecterMesDonnees:!1,partageAuGestionnaire:!1},v={collecterMesDonnees:u.O7().oneOf([!0],"Ce champ est requis"),partageAuGestionnaire:u.O7().oneOf([!0],"Ce champ est requis")},x=function(){return(0,f.jsxs)("fieldset",{className:"fr-fieldset fr-my-3w",children:[(0,f.jsx)("div",{className:"fr-my-3w fr-checkbox-group",children:(0,f.jsx)(c.gN,{name:"collecterMesDonnees",label:h,component:b})}),(0,f.jsx)("div",{className:"fr-my-3w fr-checkbox-group",children:(0,f.jsx)(c.gN,{name:"partageAuGestionnaire",label:g,component:b})})]})};function O(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?O(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var w=function(e){var r=e.label,t=e.type,n=void 0===t?"text":t,i=e.field,a=e.form,s=e.required,o=d(i.name,a),l=o?"fr-input--error":"",u=o?"fr-input-group--error":"";return(0,f.jsxs)("div",{className:"fr-input-group ".concat(u),children:[(0,f.jsx)("label",{htmlFor:i.name,className:"fr-label","data-required":s,children:r}),(0,f.jsx)("input",y(y({type:n,className:"fr-input ".concat(l)},i),{},{id:i.name})),o&&(0,f.jsx)(c.Bc,{name:i.name,component:"p",className:"fr-error-text"})]})},P=t(7379);function N(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function _(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?N(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var E=P.ZP.span.withConfig({displayName:"Radio__FrRadioGroup",componentId:"sc-g3gcfv-0"})(["display:inline-flex;padding-right:1em;"]),D=function(e){var r=e.label,t=e.field,n=e.form,i=e.id,a=e.value,s=e.displayError,o=d(t.name,n),l=o?"fr-checkbox-group--error":"";return(0,f.jsxs)(E,{className:"fr-radio-group ".concat(l),children:[(0,f.jsx)("input",_(_({type:"radio",id:i},t),{},{value:a,checked:t.value===a})),(0,f.jsx)("label",{htmlFor:i,className:"fr-label",children:r}),s&&o&&(0,f.jsx)(c.Bc,{name:t.name,component:"p",className:"fr-error-text"})]})},k=P.ZP.div.withConfig({displayName:"RadioGroup__GroupWrapper",componentId:"sc-1n0ltg8-0"})(["padding-top:0.75em;position:relative;"]);var C=function(e){var r=e.label,t=e.name,n=e.inputs,i=(0,c.u6)(),a=d(t,i);return(0,f.jsxs)(k,{children:[(0,f.jsx)("div",{children:r}),(0,f.jsxs)("div",{children:[n.map((function(e){var r=e.value,n=e.label,i=e.id;return(0,f.jsx)(c.gN,{name:t,id:i,value:r,label:n,component:D},i)})),a&&(0,f.jsx)(c.Bc,{name:t,component:"p",className:"fr-error-text"})]})]})},Z={email:"Email (*)",nom:"Nom et Pr\xe9nom",chauffage:{label:"Mode de chauffage Actuel (*)",inputs:[{value:"\xe9lectricit\xe9",label:"\xc9lectricit\xe9",id:"electricite"},{value:"gaz individuel",label:"Gaz Individuel",id:"gaz-individuel"},{value:"gaz collectif",label:"Gaz Collectif",id:"gaz-collectif"},{value:"fioul collectif",label:"Fioul Collectif",id:"fioul-collectif"},{value:"autre",label:"Autre / Je ne sais pas",id:"autre"}]}},S={nom:"",email:"",chauffage:""},z={nom:u.Z_(),email:u.Z_().email("Votre adresse email n\u2018est pas valide").required("Veuillez renseigner votre adresse email"),chauffage:u.Z_().required("Veuillez renseigner votre chauffage").oneOf(Z.chauffage.inputs.map((function(e){return e.value})),"Ce champ est requis")},F=function(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("fieldset",{className:"fr-fieldset fr-my-3w",children:[(0,f.jsx)("div",{className:"fr-my-3w",children:(0,f.jsx)(c.gN,{name:"nom",label:Z.nom,component:w})}),(0,f.jsx)("div",{className:"fr-my-3w",children:(0,f.jsx)(c.gN,{name:"email",label:Z.email,component:w,required:!0})})]}),(0,f.jsx)("fieldset",{className:"fr-fieldset fr-my-3w",children:(0,f.jsx)("div",{children:(0,f.jsx)(C,{label:Z.chauffage.label,name:"chauffage",inputs:Z.chauffage.inputs})})})]})};function q(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function V(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?q(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var A=function(e){var r=e.onSubmit,t=e.isSubmitting,n=void 0!==t&&t,a=V(V({},S),j),s=u.Ry(V(V({},z),v)),l=function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(V({},t));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,f.jsx)(c.J9,{initialValues:a,validationSchema:s,onSubmit:l,children:function(e){return(0,f.jsxs)(c.l0,{children:[(0,f.jsx)(F,{}),(0,f.jsx)(x,{}),(0,f.jsx)("button",{className:"fr-btn",type:"submit",disabled:!e.isValid||n,children:"Envoyer"}),!e.isValid&&(0,f.jsx)("p",{className:"fr-error-text",children:"Veuillez remplir les champs obligatoires(*) avant d'envoyer votre demande"})]})}})},G=t(1220),I={success:"#00eb5e",error:"#e10600"},J=P.ZP.div.withConfig({displayName:"CallOutstyle__CallOutContainer",componentId:"sc-15p30gu-0"})(["",""],(function(e){var r=e.variant;return r in I&&"box-shadow: inset 0.25rem 0 0 0 ".concat(I[r])}));function R(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function B(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?R(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var U=function(e){return(0,f.jsx)("header",B({className:"fr-callout__title"},e))},M=function(e){return(0,f.jsx)("div",B({className:"fr-callout__text"},e))},L=function(e){var r=e.children,t=e.variant,n=void 0===t?"default":t;return(0,f.jsx)(J,{className:"fr-callout",variant:n,children:r})},T=t(1946),W=t(6271),X={title:"Avec le service public France Chaleur Urbaine, b\xe9n\xe9ficiez d\u2019un accompagnement gratuit et sans engagement !",details:["Nous vous informons sur les d\xe9marches \xe0 accomplir pour se raccorder \xe0 un r\xe9seau de chaleur","Nous vous mettons en contact avec le gestionnaire du r\xe9seau qui passe pr\xe8s de chez vous"]},H={title:"Vous souhaiteriez vous raccorder mais il n'existe pas de r\xe9seau de\n    chaleur pr\xe8s de chez vous ? Laissez-nous vos coordonn\xe9es :",details:["Nous transmettrons votre demande \xe0 la mairie de votre commune ou au gestionnaire du r\xe9seau le plus proche.","Faire conna\xeetre son souhait de se raccorder, c'est contribuer \xe0 la cr\xe9ation de nouveaux r\xe9seaux de chaleur ou au d\xe9veloppement des r\xe9seaux existants"]};function Y(e){var r=e.isAddressEligible,t=e.address,n=r?"success":"error";return(0,f.jsx)(L,{variant:n,children:r?(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(M,{children:"Bonne nouvelle ! Un r\xe9seau de chaleur passe \xe0 proximit\xe9 de votre adresse."})}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(U,{children:"Votre copropri\xe9t\xe9 n'est pour le moment pas raccordable \xe0 un r\xe9seau de chaleur."}),(0,f.jsxs)(M,{children:[(0,f.jsx)("p",{className:"fr-my-2w",children:"Toutefois, les r\xe9seaux se d\xe9veloppent et elle pourrait le devenir."}),(0,f.jsx)("a",{href:"https://carto.viaseva.org/public/viaseva/map/?coord=".concat(null===t||void 0===t?void 0:t.coords,"&zoom=15"),target:"_blank",className:"fr-text--sm",rel:"noopener noreferrer",children:"Visualiser les r\xe9seaux \xe0 proximit\xe9"})]})]})})}function $(e){var r=e.isAddressEligible,t=r?X:H,n=t.title,i=t.details;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h4",{children:n}),(0,f.jsx)("ul",{children:i.map((function(e,t){return(0,f.jsx)("li",{className:" ".concat(r?"fr-fi-checkbox-circle-fill eligible":"fr-fi-arrow-right-s-line ineligible"),children:e},t)}))})]})}var K=P.ZP.div.withConfig({displayName:"ContactViewstyled__ContactFormWrapper",componentId:"sc-shy82i-0"})(["display:flex;flex-direction:row;align-items:flex-start;justify-content:stretch;padding:1.5rem 0;"]),Q=P.ZP.div.withConfig({displayName:"ContactViewstyled__ContactFormContentWrapper",componentId:"sc-shy82i-1"})(["flex:1;&:first-child{padding-right:1rem;flex:0.8;}&:last-child{padding-left:1rem;}h4{color:#4550e5;font-size:1.5rem;line-height:2rem;margin-bottom:3rem;}ul{font-size:1.2rem;line-height:1.5;padding:0;}li{font-weight:600;margin-bottom:1.5rem;display:flex;justify-content:flex-start;align-items:flex-start;::before{display:block;padding-top:0.15rem;margin-right:0.5rem;color:#2fab73;}&.ineligible{::before{color:#4550e5;}}}"]),ee=t(1692),re=t(428),te=t(9008),ne=t(1664),ie=t(1163);function ae(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function se(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ae(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ae(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var oe=P.ZP.a.withConfig({displayName:"demande-de-contact__UnderlinedLink",componentId:"sc-19zulaw-0"})(["text-decoration:none;color:white;"]);function ce(){var e=(0,ie.useRouter)().query,r=(0,l.useState)(!1),t=r[0],n=r[1],s=(0,l.useState)(null),c=s[0],u=s[1],d="true"===e.isEligible,p=(0,re.R)(""),m=(0,a.Z)(p,1)[0],b=(0,ee.H)({formId:"8ccEEqGt"}),h=(0,a.Z)(b,2),g=h[0],j=h[1],v=function(){var e=(0,i.Z)(o().mark((function e(r){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d?"contactFormEligible":"contactFormIneligible",(0,G.Yk)(G.ZP[t].matomoEvent,[m]),(0,G.$f)(G.ZP[t].facebookEvent),e.next=5,g(se(se({},r),{},{address:m,estEligible:d})).then((function(){return n(!0)}));case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){u(m)}),[m]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(te.default,{children:(0,f.jsx)("title",{children:"Demande de contact : France Chaleur Urbaine"})}),(0,f.jsx)(T.ZP,{children:(0,f.jsx)(W.Z,{children:(0,f.jsx)("div",{className:"fr-col-12",children:t?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(L,{children:[(0,f.jsx)(U,{children:"Votre demande de contact est bien prise en compte."}),(0,f.jsxs)(M,{children:["L'\xe9quipe France Chaleur Urbaine a bien re\xe7u votre demande et reviendra vers vous dans les meilleurs d\xe9lais afin de vous apporter une r\xe9ponse. Dans l'attente, n'h\xe9sitez pas \xe0 consulter notre"," ",(0,f.jsx)(ne.default,{href:"/ressources",children:(0,f.jsx)("a",{children:"centre de ressources"})})]})]}),(0,f.jsx)("div",{className:"fr-grid-row fr-grid-row--center fr-mt-5w",children:(0,f.jsx)(oe,{className:"fr-md-auto",href:"https://voxusagers.numerique.gouv.fr/Demarches/3067?&view-mode=formulaire-avis&nd_mode=en-ligne-enti%C3%A8rement&nd_source=button&key=d72603000c07b99a66da0a230c832f7e",children:(0,f.jsx)("img",{src:"https://voxusagers.numerique.gouv.fr/static/bouton-bleu.svg",alt:"Je donne mon avis",title:"Je donne mon avis sur cette d\xe9marche"})})})]}):(0,f.jsxs)(K,{children:[(0,f.jsx)(Q,{children:(0,f.jsx)($,{isAddressEligible:d})}),(0,f.jsxs)(Q,{children:[(0,f.jsx)(Y,{isAddressEligible:d,address:c}),(0,f.jsx)("div",{className:"fr-mt-5w",children:(0,f.jsx)(A,{onSubmit:v,isSubmitting:j})})]})]})})})})]})}},5632:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/demande-de-contact",function(){return t(5453)}])}},function(e){e.O(0,[934,322,946,176,774,888,179],(function(){return r=5632,e(e.s=r);var r}));var r=e.O();_N_E=r}]);