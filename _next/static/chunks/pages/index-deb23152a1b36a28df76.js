(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8147:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return C}});var n=s(5893),t=s(809),a=s.n(t),i=s(2447),l=s(4949),c=s(7294),o=function(e){var r=e.placeholder,s=void 0===r?"5 avenue Anatole 75007 Paris":r,t=e.onChange;return(0,n.jsx)(l.gA,{className:"fr-input",type:"text",id:"address",name:"address",placeholder:s,onChange:t})},f=function(){return(0,n.jsx)("p",{style:{margin:0,color:"#454545",padding:"0.25rem 1rem 0.75rem 1rem",fontStyle:"italic"},children:"Aucune adresse trouv\xe9e :("})},d=function(e){var r=e.suggestions;return(0,n.jsx)(l.Gk,{children:r.map((function(e,r){var s=e.properties;return(0,n.jsx)(l.O2,{value:s.label},s.id+r)}))})},u=s(9227),h=s(7954),m=s.n(h),_=s(2735),p=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:5,autocomplete:!1,debounceTime:300},s=r.limit,n=r.autocomplete,t=r.debounceTime,l=c.useState([]),o=(0,u.Z)(l,2),f=o[0],d=o[1],h=c.useState("idle"),p=(0,u.Z)(h,2),x=p[0],j=p[1],v=3,b=(0,_.Su)(),g=b.suggestionService,N=e.trim(),k=c.useCallback(m()(function(){var e=(0,i.Z)(a().mark((function e(r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j("loading"),e.prev=1,e.next=4,g.fetchSuggestions(r,{limit:s.toString(),autocomplete:n.toString()});case 4:t=e.sent,d(t.features),j("success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),j("error");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(r){return e.apply(this,arguments)}}(),t),[]);return c.useEffect((function(){!N||N.length<=v||k(N)}),[g,N,k]),{suggestions:f,displaySuggestions:"idle"!==x&&!!f,status:x}},x=function(e){var r=e.onAddressSelected,s=(0,c.useState)(""),t=s[0],a=s[1],i=p(t),u=i.suggestions,h=i.displaySuggestions;return(0,n.jsxs)("div",{className:"fr-input-group",children:[(0,n.jsx)("label",{className:"fr-label",htmlFor:"address",children:(0,n.jsx)("span",{className:"fr-hint-text",children:"Adresse \xe0 tester"})}),(0,n.jsxs)(l.hQ,{"aria-label":"address","aria-labelledby":"address",className:"fr-input-wrap fr-fi-search-line",onSelect:function(e){return r(function(e){var r=u.find((function(r){return r.properties.label===e}));return(null===r||void 0===r?void 0:r.geometry.coordinates)||[0,0]}(e))},children:[(0,n.jsx)(o,{onChange:function(e){a(e.currentTarget.value)}}),h&&(0,n.jsx)(l.SF,{children:u.length?(0,n.jsx)(d,{suggestions:u}):(0,n.jsx)(f,{})})]})]})},j=s(6265),v=s(8347);function b(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),s.push.apply(s,n)}return s}function g(e){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?b(Object(s),!0).forEach((function(r){(0,j.Z)(e,r,s[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):b(Object(s)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))}))}return e}var N=function(e){var r=e.children,s=e.type,t=void 0===s?"button":s,a=e.disabled,i=void 0!==a&&a,l=(0,v.Z)(e,["children","type","disabled"]);return(0,n.jsx)("button",g(g({className:"fr-btn",type:t,disabled:i},l),{},{children:r}))},k=s(1163),y=function(e){var r=e.children;return(0,n.jsx)("div",{className:"fr-highlight",children:r})},w=function(e){var r=e.isEligible;return(0,n.jsxs)(y,{children:["Cette adresse ",r?"est":"n'est pas"," \xe9ligible \xe0 un r\xe9seau de chaleur urbaine"]})};function O(e,r){return e.distPointReseau<=r}var S=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,r=c.useState("idle"),s=(0,u.Z)(r,2),n=s[0],t=s[1],l=c.useState(null),o=(0,u.Z)(l,2),f=o[0],d=o[1],h=(0,_.Su)().heatNetworkService,m=c.useCallback(function(){var e=(0,i.Z)(a().mark((function e(r){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t("loading"),e.prev=1,e.next=4,h.findByCoords(r);case 4:s=e.sent,d(s),t("success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t("error");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(r){return e.apply(this,arguments)}}(),[h]);return{checkEligibility:function(){var e=(0,i.Z)(a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(r);case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),isEligible:!!f&&O(f,e),status:n}}(),r=e.status,s=e.checkEligibility,t=e.isEligible,l="success"===r,o="success"!==r,f=(0,k.useRouter)().push,d=function(){var e=(0,i.Z)(a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(h(r));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),h=function(e){return{lon:e[0],lat:e[1]}};return(0,n.jsxs)("div",{className:"fr-col-12 fr-col-md-8",children:[(0,n.jsx)("h1",{children:"Tester votre \xe9ligibilit\xe9"}),l&&(0,n.jsx)(w,{isEligible:t}),(0,n.jsx)("p",{children:"Votre copropri\xe9t\xe9 peut-elle \xeatre raccord\xe9e \xe0 un r\xe9seau de chauffage urbain en France ?D\xe9couvrez s\u2019il existe un r\xe9seau de chaleur proche de votre copropri\xe9t\xe9."}),(0,n.jsx)(x,{onAddressSelected:d}),(0,n.jsx)("div",{className:"fr-col-offset-4",children:(0,n.jsx)(N,{onClick:function(){return f({pathname:"/demande-contact",query:{isEligible:t}})},disabled:o,children:"Nous contacter"})})]})},E=s(9163).ZP.section.withConfig({displayName:"MainLayout__Main",componentId:"sc-4z5cbf-0"})(["margin:2em 0;min-height:70vh;"]),P=function(e){var r=e.children;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("header",{role:"banner",className:"fr-header",children:[(0,n.jsx)("div",{className:"fr-header__body",children:(0,n.jsx)("div",{className:"fr-container",children:(0,n.jsx)("div",{className:"fr-header__body-row",children:(0,n.jsxs)("div",{className:"fr-header__brand fr-enlarge-link",children:[(0,n.jsx)("div",{className:"fr-header__brand-top",children:(0,n.jsx)("div",{className:"fr-header__logo",children:(0,n.jsxs)("p",{className:"fr-logo",children:["R\xe9publique",(0,n.jsx)("br",{}),"Fran\xe7aise"]})})}),(0,n.jsxs)("div",{className:"fr-header__service",children:[(0,n.jsx)("a",{href:"/",title:"Accueil - [\xc0 MODIFIER | Nom du site / service]",children:(0,n.jsx)("p",{className:"fr-header__service-title",children:"France Chaleur Urbaine"})}),(0,n.jsx)("p",{className:"fr-header__service-tagline",children:"-"})]})]})})})}),(0,n.jsx)("div",{className:"fr-header__menu fr-modal",id:"modal-870","aria-labelledby":"fr-btn-menu-mobile-2",children:(0,n.jsxs)("div",{className:"fr-container",children:[(0,n.jsx)("button",{className:"fr-link--close fr-link","aria-controls":"modal-870",children:"Fermer"}),(0,n.jsx)("div",{className:"fr-header__menu-links"}),(0,n.jsx)("nav",{className:"fr-nav",id:"header-navigation",role:"navigation","aria-label":"Menu principal",children:(0,n.jsxs)("ul",{className:"fr-nav__list",children:[(0,n.jsx)("li",{className:"fr-nav__item",children:(0,n.jsxs)("a",{className:"fr-nav__link",href:"#",target:"_self","aria-current":"page",children:["Copropri\xe9t\xe9"," "]})}),(0,n.jsx)("li",{className:"fr-nav__item",children:(0,n.jsx)("a",{className:"fr-nav__link",href:"#",target:"_self",children:"Ressources"})}),(0,n.jsx)("li",{className:"fr-nav__item",children:(0,n.jsx)("a",{className:"fr-nav__link",href:"#",target:"_self",children:"Partenaires"})}),(0,n.jsx)("li",{className:"fr-nav__item",children:(0,n.jsx)("a",{className:"fr-nav__link",href:"#",target:"_self",children:"Cartographie"})})]})})]})})]}),(0,n.jsx)("div",{className:"fr-container",children:(0,n.jsx)(E,{className:"fr-grid-row fr-grid-row--center",children:r})}),(0,n.jsx)("footer",{className:"fr-footer",role:"contentinfo",id:"footer",children:(0,n.jsxs)("div",{className:"fr-container",children:[(0,n.jsxs)("div",{className:"fr-footer__body fr-footer__body--operator",children:[(0,n.jsxs)("div",{className:"fr-footer__brand fr-enlarge-link",children:[(0,n.jsxs)("p",{className:"fr-logo",title:"r\xe9publique fran\xe7aise",children:["r\xe9publique",(0,n.jsx)("br",{}),"fran\xe7aise"]}),(0,n.jsx)("a",{className:"fr-footer__brand-link",href:"/",title:"Retour \xe0 l\u2019accueil",children:(0,n.jsx)("img",{className:"fr-footer__logo",src:"/img/logo-operator-h.png",alt:"[A MODIFIER | text alternatif de l\u2019image]"})})]}),(0,n.jsxs)("div",{className:"fr-footer__content",children:[(0,n.jsx)("p",{className:"fr-footer__content-desc",children:"Lorem [...] elit ut."}),(0,n.jsxs)("ul",{className:"fr-footer__content-list",children:[(0,n.jsx)("li",{className:"fr-footer__content-item",children:(0,n.jsx)("a",{className:"fr-footer__content-link",href:"https://legifrance.gouv.fr",children:"legifrance.gouv.fr"})}),(0,n.jsx)("li",{className:"fr-footer__content-item",children:(0,n.jsx)("a",{className:"fr-footer__content-link",href:"https://gouvernement.fr",children:"gouvernement.fr"})}),(0,n.jsx)("li",{className:"fr-footer__content-item",children:(0,n.jsx)("a",{className:"fr-footer__content-link",href:"https://service-public.fr",children:"service-public.fr"})}),(0,n.jsx)("li",{className:"fr-footer__content-item",children:(0,n.jsx)("a",{className:"fr-footer__content-link",href:"https://data.gouv.fr",children:"data.gouv.fr"})})]})]})]}),(0,n.jsxs)("div",{className:"fr-footer__bottom",children:[(0,n.jsxs)("ul",{className:"fr-footer__bottom-list",children:[(0,n.jsx)("li",{className:"fr-footer__bottom-item",children:(0,n.jsx)("a",{className:"fr-footer__bottom-link",href:"#",children:"Plan du site"})}),(0,n.jsx)("li",{className:"fr-footer__bottom-item",children:(0,n.jsx)("a",{className:"fr-footer__bottom-link",href:"#",children:"Accessibilit\xe9: non/partiellement/totalement conforme"})}),(0,n.jsx)("li",{className:"fr-footer__bottom-item",children:(0,n.jsx)("a",{className:"fr-footer__bottom-link",href:"#",children:"Mentions l\xe9gales"})}),(0,n.jsx)("li",{className:"fr-footer__bottom-item",children:(0,n.jsx)("a",{className:"fr-footer__bottom-link",href:"#",children:"Donn\xe9es personnelles"})}),(0,n.jsx)("li",{className:"fr-footer__bottom-item",children:(0,n.jsx)("a",{className:"fr-footer__bottom-link",href:"#",children:"Gestion des cookies"})})]}),(0,n.jsx)("div",{className:"fr-footer__bottom-copy",children:(0,n.jsxs)("p",{children:["Sauf mention contraire, tous les textes de ce site sont sous"," ",(0,n.jsx)("a",{href:"https://github.com/etalab/licence-ouverte/blob/master/LO.md",target:"_blank",rel:"noreferrer",children:"licence etalab-2.0"})]})})]})]})})]})};function C(){return(0,n.jsxs)(P,{children:[(0,n.jsx)("div",{className:"fr-col-12 fr-col-md-8"}),(0,n.jsx)(S,{})]})}},5301:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(8147)}])}},function(e){e.O(0,[774,163,467,888,179],(function(){return r=5301,e(e.s=r);var r}));var r=e.O();_N_E=r}]);