(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[150],{7942:function(e,r,t){"use strict";var o=t(5696);r.default=void 0;var n,a=(n=t(7294))&&n.__esModule?n:{default:n},i=t(4957),c=t(9898),l=t(639);var s={};function d(e,r,t,o){if(e&&i.isLocalURL(r)){e.prefetch(r,t,o).catch((function(e){0}));var n=o&&"undefined"!==typeof o.locale?o.locale:e&&e.locale;s[r+"%"+t+(n?"%"+n:"")]=!0}}var u=function(e){var r,t=!1!==e.prefetch,n=c.useRouter(),u=a.default.useMemo((function(){var r=i.resolveHref(n,e.href,!0),t=o(r,2),a=t[0],c=t[1];return{href:a,as:e.as?i.resolveHref(n,e.as):c||a}}),[n,e.href,e.as]),p=u.href,f=u.as,g=e.children,m=e.replace,b=e.shallow,h=e.scroll,v=e.locale;"string"===typeof g&&(g=a.default.createElement("a",null,g));var y=(r=a.default.Children.only(g))&&"object"===typeof r&&r.ref,x=l.useIntersection({rootMargin:"200px"}),w=o(x,2),k=w[0],j=w[1],C=a.default.useCallback((function(e){k(e),y&&("function"===typeof y?y(e):"object"===typeof y&&(y.current=e))}),[y,k]);a.default.useEffect((function(){var e=j&&t&&i.isLocalURL(p),r="undefined"!==typeof v?v:n&&n.locale,o=s[p+"%"+f+(r?"%"+r:"")];e&&!o&&d(n,p,f,{locale:r})}),[f,p,j,v,t,n]);var O={ref:C,onClick:function(e){r.props&&"function"===typeof r.props.onClick&&r.props.onClick(e),e.defaultPrevented||function(e,r,t,o,n,a,c,l){("A"!==e.currentTarget.nodeName.toUpperCase()||!function(e){var r=e.currentTarget.target;return r&&"_self"!==r||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&i.isLocalURL(t))&&(e.preventDefault(),r[n?"replace":"push"](t,o,{shallow:a,locale:l,scroll:c}))}(e,n,p,f,m,b,h,v)},onMouseEnter:function(e){r.props&&"function"===typeof r.props.onMouseEnter&&r.props.onMouseEnter(e),i.isLocalURL(p)&&d(n,p,f,{priority:!0})}};if(e.passHref||"a"===r.type&&!("href"in r.props)){var _="undefined"!==typeof v?v:n&&n.locale,L=n&&n.isLocaleDomain&&i.getDomainLocale(f,_,n&&n.locales,n&&n.domainLocales);O.href=L||i.addBasePath(i.addLocale(f,_,n&&n.defaultLocale))}return a.default.cloneElement(r,O)};r.default=u},639:function(e,r,t){"use strict";var o=t(5696);Object.defineProperty(r,"__esModule",{value:!0}),r.useIntersection=function(e){var r=e.rootRef,t=e.rootMargin,s=e.disabled||!i,d=n.useRef(),u=n.useState(!1),p=o(u,2),f=p[0],g=p[1],m=n.useState(r?r.current:null),b=o(m,2),h=b[0],v=b[1],y=n.useCallback((function(e){d.current&&(d.current(),d.current=void 0),s||f||e&&e.tagName&&(d.current=function(e,r,t){var o=function(e){var r,t={root:e.root||null,margin:e.rootMargin||""},o=l.find((function(e){return e.root===t.root&&e.margin===t.margin}));o?r=c.get(o):(r=c.get(t),l.push(t));if(r)return r;var n=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var r=n.get(e.target),t=e.isIntersecting||e.intersectionRatio>0;r&&t&&r(t)}))}),e);return c.set(t,r={id:t,observer:a,elements:n}),r}(t),n=o.id,a=o.observer,i=o.elements;return i.set(e,r),a.observe(e),function(){if(i.delete(e),a.unobserve(e),0===i.size){a.disconnect(),c.delete(n);var r=l.findIndex((function(e){return e.root===n.root&&e.margin===n.margin}));r>-1&&l.splice(r,1)}}}(e,(function(e){return e&&g(e)}),{root:h,rootMargin:t}))}),[s,h,t,f]);return n.useEffect((function(){if(!i&&!f){var e=a.requestIdleCallback((function(){return g(!0)}));return function(){return a.cancelIdleCallback(e)}}}),[f]),n.useEffect((function(){r&&v(r.current)}),[r]),[y,f]};var n=t(7294),a=t(6286),i="undefined"!==typeof IntersectionObserver;var c=new Map,l=[]},3178:function(e,r,t){"use strict";t.d(r,{Z:function(){return w}});var o,n=t(341),a=t(7294),i=t(7379),c=t(5893),l=function(e){var r=e.children,t=e.name,o=void 0===t?"address":t,n=e.centred,a="fr-text--lg fr-my-2w fr-grid-row ".concat(n?"fr-grid-row--center":"fr-grid-row--left");return(0,c.jsx)("label",{className:a,htmlFor:o,children:(0,c.jsx)("span",{children:r})})},s=function(e){var r=e.placeholder,t=void 0===r?"":r,o=e.onChange;return(0,c.jsx)(n.gA,{className:"fr-input",type:"text",id:"address",name:"address",placeholder:t,onChange:o})},d=function(e){var r=e.text,t=void 0===r?"Aucune adresse trouv\xe9e :(":r;return(0,c.jsx)("p",{style:{margin:0,color:"#454545",padding:"0.25rem 1rem 0.75rem 1rem",fontStyle:"italic"},children:t})},u=function(e){var r=e.suggestions;return(0,c.jsx)(n.Gk,{children:r.map((function(e,r){var t=e.properties;return(0,c.jsx)(n.O2,{value:t.label},t.id+r)}))})},p=t(29),f=t(6835),g=t(7794),m=t.n(g),b=t(7954),h=t.n(b),v=t(3598);!function(e){e.Idle="idle",e.Loading="loading",e.Success="success",e.Error="error"}(o||(o={}));var y=function(e){var r=e.limit,t=void 0===r?5:r,n=e.autocomplete,i=void 0!==n&&n,c=e.debounceTime,l=void 0===c?300:c,s=e.minCharactersLength,d=void 0===s?3:s,u=a.useState([]),g=(0,f.Z)(u,2),b=g[0],y=g[1],x=a.useState(o.Idle),w=(0,f.Z)(x,2),k=w[0],j=w[1],C=a.useRef(!0),O=(0,v.Su)().suggestionService,_=h()(function(){var e=(0,p.Z)(m().mark((function e(r){var n,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(n=r.trim())&&C.current&&!(n.length<=3)){e.next=4;break}return e.abrupt("return");case 4:return j(o.Loading),e.next=7,O.fetchSuggestions(n,{limit:t.toString(),autocomplete:i.toString()});case 7:a=e.sent,y(a.features),j(o.Success),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),j(o.Error),console.error({error:e.t0});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(r){return e.apply(this,arguments)}}(),l);return a.useEffect((function(){return function(){C.current=!1}}),[]),{suggestions:b,status:k,fetchSuggestions:function(e){return e.length>=d&&_(e)}}},x=(0,i.vJ)([".fr-input{transition:box-shadow .5s ease;color:#000074;:focus{box-shadow:inset 0 -2px 0 0 #000074;}}.fr-input-wrap{box-shadow:0 0 5px rgb(0 0 0 / 74%);border-radius:.25rem .25rem 0 0;}"]),w=function(e){var r=e.label,t=void 0===r?"":r,o=e.emptySuggestionText,i=e.debounceTime,p=void 0===i?200:i,f=e.minCharactersLength,g=void 0===f?3:f,m=e.placeholder,b=void 0===m?"Recherchez une adresse":m,h=e.className,v=e.popoverClassName,w=e.centred,k=e.onAddressSelected,j=e.onChange,C=y({debounceTime:p,limit:5,autocomplete:!1,minCharactersLength:g}),O=C.suggestions,_=C.fetchSuggestions,L=C.status,P=(0,a.useCallback)((function(e,r){var t=function(e,r){return r.find((function(r){return r.properties.label===e}))}(e,r),o=(null===t||void 0===t?void 0:t.geometry.coordinates)||[0,0];k(e,o,t)}),[k]),N=(0,a.useMemo)((function(){return"idle"!==L&&"loading"!==L}),[L]),Z=(0,a.useMemo)((function(){return!!O.length}),[O]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(x,{}),(0,c.jsxs)("div",{className:"fr-input-group ".concat(h||""),children:[t&&(0,c.jsx)(l,{centred:w,children:t}),(0,c.jsxs)(n.hQ,{"aria-label":"address","aria-labelledby":"address",className:"fr-input-wrap fr-fi-search-line",onSelect:function(e){return P(e,O)},children:[(0,c.jsx)(s,{onChange:function(e){var r=e.currentTarget.value;j&&j(r),_(r)},placeholder:b}),N&&(0,c.jsx)(n.SF,{className:v,children:Z?(0,c.jsx)(u,{suggestions:O}):(0,c.jsx)(d,{text:o})})]})]})]})}},4510:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return We}});var o=t(9499),n=t(6835),a=t(7812),i=t(4613),c=t.n(i),l=(t(6644),t(1163)),s=t(7294),d=t(7379),u="#18753c",p="#b8fec9",f="#ce0500",g="#ffe9e9",m="#000",b="#ccc",h=d.ZP.div.withConfig({displayName:"CardDetailsstyle__MapCard",componentId:"sc-a6w3gm-0"})(["width:100%;display:block;background-color:white;margin:1em 0;border:2px solid var(--bf500);border:1px solid rgb(0 0 0 / 20%);border-radius:0.3em;overflow:hidden;box-shadow:1px 0 4px 1px rgb(0 0 0 / 20%);> header{display:flex;padding:0.5em;cursor:",";font-weight:bold;.buttonsWrapper{flex:1;display:flex;justify-content:flex-end;align-items:flex-start;padding-left:0.5rem;.closeButton{position:relative;display:flex;justify-content:center;align-items:center;background-color:#ffffff;box-shadow:0 1px 2px 1px #33333333;width:1.25rem;height:1.25rem;border-radius:50%;cursor:pointer;::before,::after{content:'';position:absolute;width:2px;height:80%;background-color:#333;}::before{content:'';transform:rotate(-45deg);}::after{content:'';transform:rotate(45deg);}}}}&.eligible{border:2px solid ",";> header{background-color:",";color:",";}}&.ineligible{border:2px solid ",";> header{background-color:",";color:",";}}&.energyCard{border:2px solid ",";> header{background-color:",";color:",";}}&.gasUsageCard{border:2px solid ",";> header{background-color:",";color:",";}}&.legendCard{border:2px solid #4550e5;> header{background-color:#4550e5;color:#ffffff;}}section{padding:0.5em;","}&.close{section{max-height:0;padding:0 0.5em;}:hover{section{max-height:1000px;padding:0.25em 0.5em;}}}"],(function(e){var r=e.isClickable,t=e.isClosable;return r||t?"pointer":"default"}),p,p,u,g,g,f,g,g,f,b,b,m,(function(e){return e.isClosable&&(0,d.iv)(["max-height:1000px;transition:max-height 0.75s ease,padding 0.5s ease 0.25s;"])})),v=d.ZP.div.withConfig({displayName:"CardDetailsstyle__EligibilityResult",componentId:"sc-a6w3gm-1"})(["background-color:#eeeeee;padding:0.5em;margin-bottom:0.5em;border-left:2px solid;",""],(function(e){var r=e.isEligible;return(0,d.iv)(["border-color:","",";"],r?u:f,"a6")})),y=(d.ZP.div.withConfig({displayName:"CardDetailsstyle__EnergyResult",componentId:"sc-a6w3gm-2"})(["padding:0.5em;margin-bottom:0.5em;border-left:2px solid;border-color:#c72e6e;"]),d.ZP.div.withConfig({displayName:"CardDetailsstyle__GasUsageResult",componentId:"sc-a6w3gm-3"})(["padding:0.5em;margin-bottom:0.5em;border-left:2px solid;border-color:#136ce0;"]),t(5893)),x=function(e){var r,t,o,n=e.result,a=e.onClick,i=e.onClickClose,c=((null===(r=n.addressDetails)||void 0===r||null===(t=r.networkDetails)||void 0===t?void 0:t.network)||{}).distance,l=((null===(o=n.addressDetails)||void 0===o?void 0:o.networkDetails)||{}).isEligible;return(0,y.jsxs)(h,{isEligible:l,typeCard:"search",onClick:function(e){var r="function"===typeof a&&a(n)||void 0;return e.stopPropagation(),r},className:l?"eligible":"ineligible",isClickable:!0,children:[(0,y.jsxs)("header",{children:[n.address,(0,y.jsx)("div",{className:"buttonsWrapper",children:i&&(0,y.jsx)("div",{className:"closeButton",onClick:function(){i&&i(n)}})})]}),(0,y.jsxs)("section",{children:[(0,y.jsx)(v,{isEligible:l,children:l?"Bonne nouvelle ! Un r\xe9seau de chaleur passe \xe0 proximit\xe9 de cette adresse.":"Cette adresse n'est pour le moment pas raccordable \xe0 un r\xe9seau de chaleur."}),(0,y.jsx)("div",{children:!isNaN(c)&&"Distance au r\xe9seau ".concat(c<1?"< 1m":c>=1e3?": ".concat(c/1e3,"km"):": ".concat(c,"m"))})]})]})},w=((0,d.vJ)([".leaflet-container .leaflet-control-attribution{margin:0.5em 0;padding:0 0.5em;background:rgba(255,255,255,0.85);font-weight:bold;padding-left:3rem;position:relative;}.leaflet-control-attribution{position:relative;border-radius:1em 0 0 1em;overflow:hidden;cursor:default;transform:translateX(calc(100% - 3em));transition:transform 0.4s ease;&::before{content:'\xa9';position:absolute;left:0;height:100%;display:inline-flex;align-items:center;justify-content:center;width:3rem;padding-left:1.25em;padding-right:0.5em;margin-right:0.5em;margin-left:-0.5em;border-right:1px solid #fff;background-color:#4550e5;color:#fff;font-weight:bold;cursor:pointer;}&::after{content:'';position:absolute;left:0;top:50%;width:0em;height:0em;border:0 none transparent;border-left:0.5em solid transparent;border-right:0.5em solid transparent;border-bottom:0.5em solid #fff;transform:translateY(calc(-50% - .05em)) rotate(-90deg) translateY(.45em);transition:transform 0.5s ease;}&:hover{transform:translateX(0);&::after{transform:translateY(calc(-50% - .05em)) rotate(90deg) translateY(-.45em);}}a[target]{color:#4550e5;&::after{content:'';}}}.my-div-icon{position:relative;i{position:relative;display:block;transform-origin:bottom;::before{content:\"\";display:block;position:absolute;bottom:0;left:0;width:2.5rem;height:2.5rem;background-color:#4550e5;border:2px solid white;border-radius:50% 45% 75% 0% / 75% 45% 50% 0%;transform-origin:bottom left;transform:translateX(6px) translateY(-3px) rotate(-45deg);box-shadow:-3px 3px 4px 3px rgb(0 0 0 / 35%)}::after{content:\"\";display:block;position:absolute;top:0;left:0;width:1.3rem;height:1.3rem;border:5px double white;border-radius:50%;transform:translateX(6px) translateY(-3px) translateX(-.65rem) translateY(-.65rem) translateY(-1.8rem);}}}.pan-map-aside{width:100%;}"]),(0,d.vJ)(["hr{border:1px solid #4550e5;border-width:0 0 1px;margin:.75em 2em;height:0;}.legend{width:0rem;height:1rem;display:inline-flex;vertical-align:text-bottom;justify-content:center;align-items:center;margin-right:0.2em;::before{content:'';display:block;height:1rem;}}.legend-heat-network{width:1.5rem;:before{width:100%;height:0;border:3px solid #2d9748;border-radius:3px;margin-bottom:calc(0.25em - 1.5px)}}.legend-boiler-room{width:1.5rem;:before{width:100%;border:3px solid #ff6600;border-radius:3px;background-color:#ff660088;margin-bottom:calc(0.25em - 1.5px)}}.legend-substation{width:1.5rem;:before{width:1rem;border:3px solid #ff00d4;border-radius:50%;background-color:#ff00d4;margin-bottom:calc(0.25em - 1.5px)}}.legend-energy{width:.6rem;::before{width:0.5rem;height:0.5rem;border-radius:50%;margin-bottom:calc(0.25em - 1.5px)}}.legend-heating{width:0rem;}"])),k=d.ZP.div.withConfig({displayName:"MapLegendstyle__GroupeLabel",componentId:"sc-rviaut-0"})(["padding-bottom:0.8em;&:last-child{padding-bottom:0;}header{font-weight:bold;margin-bottom:0.5em;}.groupe-label-body{display:flex;flex-wrap:wrap;justify-content:stretch;align-items:stretch;padding:0 0 0.4rem 0;.label-item{flex:1;min-width:30%;max-width:100%;display:flex;text-align:left;justify-content:flex-start;label{display:inline;white-space:nowrap;&::before{width:0.7em;}}}}"]),j=d.ZP.span.withConfig({displayName:"MapLegendstyle__LabelLegend",componentId:"sc-rviaut-1"})(["",""],(function(e){var r=e.bgColor;return r&&(0,d.iv)(["::before{background-color:",";}"],r)})),C=(d.ZP.div.withConfig({displayName:"MapLegendstyle__ScaleLegendWrapper",componentId:"sc-rviaut-2"})(["padding:0 0 0.4rem 0;",""],(function(e){return e.framed&&(0,d.iv)(["padding:0.3em 0.5em 0.55em;margin-bottom:0.4rem;background-color:#efefef;border-radius:0.2em;"])})),d.ZP.div.withConfig({displayName:"MapLegendstyle__ScaleLegendHeader",componentId:"sc-rviaut-3"})(["font-size:0.8em;margin-bottom:0.2em;"]),d.ZP.label.withConfig({displayName:"MapLegendstyle__ScaleLegendLabel",componentId:"sc-rviaut-4"})(["display:inline-block;margin-bottom:0.2em;"]),d.ZP.input.withConfig({displayName:"MapLegendstyle__Input",componentId:"sc-rviaut-5"})([""]),d.ZP.div.withConfig({displayName:"MapLegendstyle__ScaleLegendBody",componentId:"sc-rviaut-6"})(["display:flex;",""],(function(e){return e.checkbox&&(0,d.iv)(["padding:0 0.3em;"])})),d.ZP.div.withConfig({displayName:"MapLegendstyle__ScaleLegendLabelWrapper",componentId:"sc-rviaut-7"})(["font-size:0.9em;white-space:nowrap;display:inline;position:relative;padding-right:0.5em;margin-right:0.5em;&::after{content:'';display:block;position:absolute;width:2px;height:70%;background-color:rgb(69 80 229 / 34%);right:0;top:15%;}&:last-child::after{display:none;}"]),d.ZP.span.withConfig({displayName:"MapLegendstyle__ScaleLabelLegend",componentId:"sc-rviaut-8"})(["width:",";height:1em;display:inline-flex;vertical-align:text-bottom;justify-content:center;align-items:center;margin-right:0.2em;::before{content:'';display:block;width:",";height:",";border-radius:50%;margin-bottom:calc(0.25em - 1.5px);background-color:",";}"],(function(e){var r=e.size;return"".concat(r,"rem")}),(function(e){var r=e.size;return"".concat(r,"em")}),(function(e){var r=e.size;return"".concat(r,"em")}),(function(e){return e.bgColor||"grey"})),d.ZP.div.withConfig({displayName:"MapLegendstyle__MapWrapper",componentId:"sc-rviaut-9"})(["height:100%;width:100%;flex:1;position:relative;overflow:hidden;"]),"3.5rem"),O="5rem",_="20px";d.ZP.div.withConfig({displayName:"MapLegendstyle__MapControlWrapper",componentId:"sc-rviaut-10"})(["position:absolute;z-index:401;top:0;font-size:1rem;padding:1em;top:0;bottom:0;right:0;width:calc(22.5% + 2em);max-width:24rem;min-width:21rem;:before{content:'';display:block;color:#fff;position:absolute;top:0;bottom:0;left:0;right:0;background:white;box-shadow:1px 0 4px 1px rgb(0 0 0 / 20%);z-index:-1;transform:translateX(105%);transition:transform ease-in-out 0.5s;}"]),d.ZP.div.withConfig({displayName:"MapLegendstyle__MapAsideContainer",componentId:"sc-rviaut-11"})(["position:absolute;z-index:401;font-size:1rem;padding:1em;max-height:100%;left:0;right:0;"," overflow-y:overlay;&.search-result{padding-top:",";padding-bottom:",";mask-image:linear-gradient(180deg,transparent 0,black 0%),linear-gradient( 180deg,transparent 0,black ",",black calc(100% - ","),transparent 100% );mask-size:",",calc(100% - ",");mask-repeat:no-repeat,no-repeat;mask-position:right top,left top;}"],(function(e){return e.bottom?(0,d.iv)(["bottom:0;"]):(0,d.iv)(["top:0;"])}),C,O,C,O,_,_),d.ZP.input.attrs({type:"text"}).withConfig({displayName:"MapLegendstyle__InputSearch",componentId:"sc-rviaut-12"})(["width:100%;box-sizing:border-box;padding:0.5em;line-height:1em;border-radius:0.3em;font-size:1rem;color:var(--bf500);border:2px solid var(--bf500);transition-property:border-color,color;transition-timing-function:ease;transition-duration:0.5s;outline:0px none transparent;box-shadow:1px 0 4px 1px rgb(0 0 0 / 20%);:placeholder-shown:not(:focus){border:2px solid rgb(0 0 0 / 20%);}"]);var L=function(e){var r=e.id,t=e.bgColor,o=e.className,n=e.label,a=e.checked,i=e.onChange;return(0,y.jsx)("div",{children:(0,y.jsxs)("label",{children:[(0,y.jsx)("input",{type:"checkbox",checked:a,onChange:function(){i(r)}}),(0,y.jsx)(j,{className:"legend ".concat(o||""),bgColor:t&&"".concat(t,"99")}),n]})})},P=d.ZP.div.withConfig({displayName:"ScaleLegendstyle__ScaleLegendWrapper",componentId:"sc-107jkwm-0"})(["padding:0 0 0.4rem 0;",""],(function(e){return e.framed&&(0,d.iv)(["padding:0.3em 0.5em 0.55em;margin-bottom:0.4rem;background-color:#efefef;border-radius:0.2em;"])})),N=d.ZP.div.withConfig({displayName:"ScaleLegendstyle__ScaleLegendHeader",componentId:"sc-107jkwm-1"})(["font-size:0.8em;margin-bottom:0.2em;"]),Z=d.ZP.label.withConfig({displayName:"ScaleLegendstyle__ScaleLegendLabel",componentId:"sc-107jkwm-2"})(["display:inline-block;margin-bottom:0.2em;"]),S=d.ZP.input.withConfig({displayName:"ScaleLegendstyle__Input",componentId:"sc-107jkwm-3"})([""]),z=d.ZP.div.withConfig({displayName:"ScaleLegendstyle__ScaleLegendBody",componentId:"sc-107jkwm-4"})(["display:flex;",""],(function(e){return e.checkbox&&(0,d.iv)(["padding:0 0.3em;"])})),E=d.ZP.div.withConfig({displayName:"ScaleLegendstyle__ScaleLegendLabelWrapper",componentId:"sc-107jkwm-5"})(["font-size:0.9em;white-space:nowrap;display:inline;position:relative;padding-right:0.5em;margin-right:0.5em;&::after{content:'';display:block;position:absolute;width:2px;height:70%;background-color:rgb(69 80 229 / 34%);right:0;top:15%;}&:last-child::after{display:none;}"]),D=d.ZP.span.withConfig({displayName:"ScaleLegendstyle__ScaleLabelLegend",componentId:"sc-107jkwm-6"})(["width:",";height:1em;display:inline-flex;vertical-align:text-bottom;justify-content:center;align-items:center;margin-right:0.2em;::before{content:'';display:block;width:",";height:",";border-radius:50%;margin-bottom:calc(0.25em - 1.5px);background-color:",";}"],(function(e){var r=e.size;return"".concat(r,"rem")}),(function(e){var r=e.size;return"".concat(r,"em")}),(function(e){var r=e.size;return"".concat(r,"em")}),(function(e){return e.bgColor||"grey"})),M=function(e){var r=e.label,t=e.checkbox,o=e.checked,n=e.framed,a=e.onChange,i=e.color,c=e.scaleLabels;return(0,y.jsxs)(P,{framed:n,children:[t?(0,y.jsxs)(Z,{children:[(0,y.jsx)(S,{type:"checkbox",checked:o,onChange:a}),r]}):(0,y.jsx)(N,{children:r}),(0,y.jsx)(z,{checkbox:t,children:c.map((function(e){var r=e.bgColor,t=e.label,o=e.size;return(0,y.jsxs)(E,{children:[(0,y.jsx)(D,{bgColor:r||i,size:o}),t]},t)}))})]})},I={Energy:function(){return(0,y.jsx)(M,{framed:!0,label:"Nombre de lots d'habitation",color:"#afafaf",scaleLabels:[{label:"<\xa0100",size:.5},{label:"100\xa0\xe0\xa01000",size:1},{label:">\xa01000",size:2}]})},GasUsage:function(){return(0,y.jsx)(M,{framed:!0,label:"Niveau de consomation de gaz (MWh)",color:"#afafaf",scaleLabels:[{label:"<\xa0100",size:.5},{label:"100\xa0\xe0\xa01000",size:1},{label:">\xa01000",size:2}]})}};function R(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}var U=function(e){var r,t=e.id,n=e.title,a=e.description,i=e.entries,c=e.layerDisplay,l=e.onChangeEntry;return(0,y.jsxs)(k,{children:[n&&(0,y.jsx)("header",{children:n}),(0,y.jsx)("div",{className:"groupe-label-body",children:i.map((function(e){var r;return(0,y.jsx)(L,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?R(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({checked:(null===c||void 0===c?void 0:c[t])&&(null===c||void 0===c||null===(r=c[t])||void 0===r?void 0:r.includes(e.id)),onChange:function(){return l(t,e.id)}},e),e.id)}))}),a&&(null===I||void 0===I||null===(r=I[a])||void 0===r?void 0:r.call(I))]})};function T(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}var F=function(e){var r=e.data,t=e.forceClosed,n=e.layerDisplay,a=e.onToogleFeature,i=e.onToogleInGroup,c=(0,s.useState)(!0),l=c[0],d=c[1];return(0,y.jsxs)(h,{typeCard:"legend",isClosable:!0,className:!l||t?"legendCard close":"legendCard",children:[(0,y.jsx)(w,{}),(0,y.jsx)("header",{onClick:function(){return d(!l)},children:"L\xe9gende"}),(0,y.jsx)("section",{children:r.map((function(e,r){if("separator"===e)return(0,y.jsx)("hr",{},"separator-".concat(r));if("object"!==typeof e)return null;var t=e.id,c=e.title,l=e.entries,s=e.description,d=e.type,u=void 0===d?"list":d;return"group"===u?(0,y.jsx)(U,{layerDisplay:n,id:t,title:c,description:s,entries:l,onChangeEntry:i},"group-".concat(t)):"list"===u?l.map((function(e){return(0,y.jsx)(L,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?T(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({checked:!(null===n||void 0===n||!n[e.id]),onChange:a},e),e.id)})):void 0}))})]})},A=t(29),W=t(7794),G=t.n(W),Y=t(3178),B=t(3598),J=(0,d.vJ)([".map-search-form{width:100%;}.popover-map-search-form{z-index:1000;}"]),X=function(e){var r=e.onAddressSelect,t=(0,B.Su)().heatNetworkService,o=function(){var e=(0,A.Z)(G().mark((function e(o,a){var i,c,l,s,d,u;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,n.Z)(a,2),c=i[0],l=i[1],s={lat:l,lon:c},e.next=4,t.findByCoords(s);case 4:d=e.sent,u={networkDetails:d},r&&r(o,[l,c],u);case 7:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(J,{}),(0,y.jsx)(Y.Z,{placeholder:"Rechercher une adresse",onAddressSelected:o,className:"map-search-form",popoverClassName:"popover-map-search-form"})]})};function H(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function q(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?H(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var K=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.className,o=r.bodyFormater,i=(0,s.useRef)([]),l=(0,s.useRef)(new(c().Popup)({className:t})),d=(0,s.useState)([]),u=d[0],p=d[1],f=(0,s.useCallback)((function(e,r){var t,o=r.energy,c=r.consommation,l=(0,n.Z)(e,2),s=l[0],d=l[1],u="".concat(s.toFixed(4),"--").concat(d.toFixed(4)),f=function(e){return e.id===u};i.current=[].concat((0,a.Z)(i.current.filter((t=f,function(){return!t.apply(void 0,arguments)}))),[q(q(q({},i.current.find(f)||{}),{},{id:u,coordinates:e},o?{energy:o}:{}),c?{consommation:c}:{})]),p(i.current)}),[]),g=(0,s.useCallback)((function(r){var t=r.coordinates,n=o?o(r):JSON.stringify(r);l.current.setLngLat(t).setHTML(n).addTo(e)}),[o,e]);return(0,s.useEffect)((function(){var e=u[u.length-1];e&&g(e)}),[u,g]),[l.current,u,f]},Q={fuelOil:"Fioul collectif",gas:"Gaz collectif",wood:"Bois",electric:"Electrique",unknow:"Autre"},V={fuelOil:{color:"#c72e6e"},gas:{color:"#9c47e2"},wood:{color:"#ce7f17"},electric:{color:"#4cd362"},unknow:{color:"#818181"}},$={T:"Tertiaire",R:"R\xe9sidentiel",unknow:"Inconnu"},ee={T:{color:"#13e0d6"},R:{color:"#136ce0"},unknow:{color:"#818181"}},re=[48.85294,2.34987],te={outline:!0,substation:!0,boilerRoom:!0,gasUsage:["R","T"],energy:["fuelOil","gas"]},oe=[{id:"heat-network",entries:[{id:"outline",label:"R\xe9seaux de chaleur",className:"legend-heat-network"},{id:"boilerRoom",label:"Chaufferie",className:"legend-boiler-room"},{id:"substation",label:"Sous station",className:"legend-substation"}],type:"list"},"separator",{id:"energy",title:"Copropri\xe9t\xe9s\xa0: type de chauffage",entries:te.energy.map((function(e){return{id:e,label:(null===Q||void 0===Q?void 0:Q[e])||Q.unknow,bgColor:V[e].color,className:"legend-energy"}})),description:"Energy",type:"group"},{id:"gasUsage",title:"Consommations de gaz",entries:te.gasUsage.map((function(e){return{id:e,label:(null===$||void 0===$?void 0:$[e])||$.unknow,bgColor:ee[e].color,className:"legend-energy"}})),description:"GasUsage",type:"group"}],ne={minZoomData:12.75,minZoom:4,maxZoom:22,defaultZoom:12,lng:re[1],lat:re[0],defaultLayerDisplay:te,legendData:oe},ae=t(1946);function ie(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function ce(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ie(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ie(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var le=ne.minZoomData,se=ne.maxZoom,de=(0,d.vJ)([".map-wrap{position:relative;width:100%;height:calc( 100vh - "," - "," );}.map{position:absolute;width:100%;height:100%;}.maplibregl-control-container,.mapboxgl-control-container{> [class*=mapboxgl-]{z-index:",";}}.maplibregl-marker,.mapboxgl-marker{z-index:",";}.popover-map-search-form{z-index:"," !important;}.popup-map-layer{z-index:10000;font-size:.8rem;&.maplibregl-popup-anchor-left  .maplibregl-popup-tip{border-right-color:#4550e5;}&.maplibregl-popup-anchor-right  .maplibregl-popup-tip{border-left-color:#4550e5;}&.maplibregl-popup-anchor-top  .maplibregl-popup-tip{border-bottom-color:#4550e5;}&.maplibregl-popup-anchor-bottom  .maplibregl-popup-tip{border-top-color:#4550e5;}.maplibregl-popup-content{border:2px solid #4550e5;border-radius:0.3em;overflow:hidden;header{padding:7px 25px 7px 10px;margin:-15px -10px 10px;background-color:#4550e5;color:#fff;h6{font-size:1.45em;font-weight:bold;margin:0;}em.coord{font-size:0.85em;}}.maplibregl-popup-close-button{font-size:1.5em;line-height:0;font-weight:bold;color:#fff;display:flex;align-items:center;justify-content:center;width:1.25em;height:1.25em;padding:0 0 2px;margin:3px;border-radius:1em;transition-property:color,background-color;transition-duration:0.25s;transition-timing-function:ease;&:hover{color:#4550e5;background-color:#fff;}}}}"],ae.YG,ae.Ji,1e4,1e4,10101),ue="15px",pe=d.ZP.div.withConfig({displayName:"Mapstyle__MapControlWrapper",componentId:"sc-19llg5-0"})(["position:absolute;z-index:",";max-width:28%;width:100%;min-width:330px;padding:1rem;"," "," &.search-result-box{max-height:100%;overflow:auto;overflow-y:auto;overflow-y:overlay;overflow-x:visible;padding-bottom:6rem;mask-image:linear-gradient(180deg,transparent 0,black 0%),linear-gradient( 180deg,rgba(0,0,0,0.3) 0,black ",",black calc(100% - ","),transparent 100% );mask-size:",",calc(100% - ",");mask-repeat:no-repeat,no-repeat;mask-position:right top,left top;}"],10100,(function(e){return e.bottom?(0,d.iv)(["bottom:0;"]):(0,d.iv)(["top:0;"])}),(function(e){return e.right?(0,d.iv)(["right:0;"]):(0,d.iv)(["left:0;"])}),"3.5rem","7rem",ue,ue),fe=d.ZP.div.withConfig({displayName:"Mapstyle__MapSearchResult",componentId:"sc-19llg5-1"})(["padding-top:3rem;"]),ge={type:"line",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#2d9748","line-width":3,"line-opacity":["interpolate",["linear"],["zoom"],11,.75,15,1]}},me={type:"fill",layout:{},paint:{"fill-color":"#ff00d4","fill-opacity":1}},be={type:"fill",layout:{},paint:{"fill-color":"#ff6600","fill-outline-color":"#ff6600","fill-opacity":["interpolate",["linear"],["zoom"],11,.75,15,.95]}},he="nb_lot_habitation_bureau_commerce",ve=Object.entries({fioul:"fuelOil",fioul_domestique:"fuelOil",gaz:"gas",gaz_naturel:"gas",gaz_propane_butane:"gas",charbon:"wood",bois_de_chauffage:"wood",electricite:"electric",energie_autre:"unknow","sans objet":"unknow",default:"unknow"}).reduce((function(e,r){var t=(0,n.Z)(r,2),i=t[0],c=t[1];return ce(ce({},e),{},(0,o.Z)({},c,[].concat((0,a.Z)(e[c]||[]),[i])))}),{}),ye={fuelOil:{color:"#c72e6e"},gas:{color:"#9c47e2"},wood:{color:"#ce7f17"},electric:{color:"#4cd362"},unknow:{color:"#818181"}},xe=[].concat((0,a.Z)(Object.entries(ye).flatMap((function(e){var r=(0,n.Z)(e,2),t=r[0],o=r[1];return[ve[t],o.color]}))),[ye.unknow.color]),we={type:"circle",layout:{"circle-sort-key":["-",["coalesce",["get",he],0]]},paint:{"circle-color":["match",["get","energie_utilisee"]].concat((0,a.Z)(xe)),"circle-radius":["interpolate",["linear"],["zoom"],le+.1,["case",["<",["get",he],100],4,["<",["get",he],1e3],8,15],se,["case",["<",["get",he],100],8,["<",["get",he],1e3],16,30]],"circle-opacity":["interpolate",["linear"],["zoom"],le+.2,0,le+.5+1,.65],"circle-stroke-opacity":0}},ke="conso",je={T:{color:"#13e0d6"},R:{color:"#136ce0"},unknow:{color:"#818181"}},Ce=[].concat((0,a.Z)(Object.entries(je).flatMap((function(e){var r=(0,n.Z)(e,2);return[r[0],r[1].color]}))),[je.unknow.color]),Oe={type:"circle",layout:{"circle-sort-key":["-",["coalesce",["get",ke],0]]},paint:{"circle-color":["match",["get","code_grand_secteur"]].concat((0,a.Z)(Ce)),"circle-radius":["interpolate",["linear"],["zoom"],le+.1,["case",["<",["get",ke],100],4,["<",["get",ke],1e3],8,15],se,["case",["<",["get",ke],100],8,["<",["get",ke],1e3],16,30]],"circle-opacity":["interpolate",["linear"],["zoom"],le+.2,0,le+.2+1,.25],"circle-stroke-opacity":0}};function _e(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function Le(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?_e(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_e(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Pe=ne.defaultZoom,Ne=ne.maxZoom,Ze=ne.minZoom,Se=ne.minZoomData,ze=ne.lng,Ee=ne.lat,De=ne.defaultLayerDisplay,Me=ne.legendData,Ie=["outline","substation","boilerRoom"],Re=function(e){return"".concat(e.join("--"))},Ue=function(e){var r,t,o=e.coordinates,n=e.consommation,i=e.energy,c=null!==(r=null!==(t=null===n||void 0===n?void 0:n.result_label)&&void 0!==t?t:null===i||void 0===i?void 0:i.adresse_reference)&&void 0!==r?r:null,l=function(e){return e&&e.replace(/_/g," ").toLowerCase()},s=i||{},d=s.nb_lot_habitation_bureau_commerce,u=s.energie_utilisee,p=s.periode_construction,f=n||{},g=f.code_grand_secteur,m=f.conso;return"\n    ".concat(c?"\n          <header>\n            <h6>".concat(c,'</h6>\n            <em class="coord">Lat, Lon : ').concat((0,a.Z)(o).reverse().map((function(e){return e.toFixed(5)})).join(","),"</em>\n          </header>"):"","\n    ","\n        <section>\n          ".concat(g?"<strong>".concat(function(e){switch(e){case"R":return"Logement residentiel";case"T":return"\xc9tablissement tertiaire"}return""}(g),"</strong><br />"):i?"<strong>Copropri\xe9t\xe9</strong><br />":"","\n          ").concat(d?"Nombre de lots : ".concat(d,"<br />"):"","\n          ").concat(u?"Chauffage actuel :  ".concat(l(u),"<br />"):"","\n          ").concat(m&&(!u||null!==ve&&void 0!==ve&&ve.gas.includes(u))?"Consommations de gaz :  ".concat(null===m||void 0===m?void 0:m.toFixed(2),"&nbsp;MWh<br />"):"","\n          ").concat(p?"P\xe9riode de construction : ".concat(l(p),"<br />"):"","\n        </section>\n      "),"\n  ")};function Te(){var e=(0,s.useRef)(null),r=(0,s.useRef)(null),t=(0,s.useState)("pending"),i=t[0],d=t[1],u=(0,s.useState)([]),p=u[0],f=u[1],g=(0,s.useState)(De),m=g[0],b=g[1],h=(0,l.useRouter)().query,v=K(r.current,{bodyFormater:Ue,className:"popup-map-layer"}),w=(0,n.Z)(v,3)[2],k=(0,s.useCallback)((function(e){var t=e.coordinates;r.current.flyTo({center:{lon:t[0],lat:t[1]},zoom:16})}),[]),j=(0,s.useCallback)((function(){console.info("State of: soughtAddress =>",p)}),[p]),C=(0,s.useCallback)((function(e,r,t){var o=[r[1],r[0]],n={date:Date.now()},i=Re(o),c=p.find((function(e){return e.id===i}))||{id:i,coordinates:o,address:e,addressDetails:t,search:n};f([].concat((0,a.Z)(p.filter((function(e){var r=e.id;return"".concat(r)!==i}))),[c])),k({coordinates:o})}),[k,p]),O=(0,s.useCallback)((function(e){var r;if(e.coordinates){var t=Re(e.coordinates),o=p.filter((function(e){var r=e.coordinates;return Re(r)!==t}));null===e||void 0===e||null===(r=e.marker)||void 0===r||r.remove(),f(o)}}),[p]),_=(0,s.useCallback)((function(e){var r;b(Le(Le({},m),{},(0,o.Z)({},e,null!==(r=!(null!==m&&void 0!==m&&m[e]))&&void 0!==r&&r)))}),[m]),L=(0,s.useCallback)((function(e){var r=new Set(m.energy);r.has(e)?r.delete(e):r.add(e),b(Le(Le({},m),{},{energy:Array.from(r)}))}),[m]),P=(0,s.useCallback)((function(e){var r=new Set(m.gasUsage);r.has(e)?r.delete(e):r.add(e),b(Le(Le({},m),{},{gasUsage:Array.from(r)}))}),[m]);(0,s.useEffect)((function(){"loaded"===i||r.current||(r.current=new(c().Map)({attributionControl:!1,container:e.current,style:"https://openmaptiles.geo.data.gouv.fr/styles/osm-bright/style.json",center:[ze,Ee],zoom:Pe,maxZoom:Ne,minZoom:Ze}),r.current.on("click",(function(){console.info("zoom =>",r.current.getZoom()),j()})),r.current.on("load",(function(){d("loaded");var e=new(c().NavigationControl)({showCompass:!0,showZoom:!0,visualizePitch:!0});r.current.addControl(e,"top-left");var t=new(c().AttributionControl)({compact:!1});r.current.addControl(t,"bottom-right");var o=new(c().ScaleControl)({maxWidth:100,unit:"metric"});r.current.addControl(o,"bottom-left");var n=document.location.origin;r.current.addSource("heatNetwork",{type:"vector",tiles:["".concat(n,"/api/map/network/{z}/{x}/{y}")]}),r.current.addLayer(Le({id:"outline",source:"heatNetwork","source-layer":"outline"},ge)),r.current.addLayer(Le({id:"substation",source:"heatNetwork","source-layer":"substation"},me)),r.current.addLayer(Le({id:"boilerRoom",source:"heatNetwork","source-layer":"boilerRoom"},be)),r.current.addSource("energy",{type:"vector",tiles:["".concat(n,"/api/map/energy/{z}/{x}/{y}")],maxzoom:Ne,minzoom:Se}),r.current.addLayer(Le({id:"energy",source:"energy","source-layer":"condominiumRegister"},we)),r.current.on("click","energy",(function(e){var r=e.features[0].properties,t=e.features[0].geometry.coordinates.slice();w(t,{energy:r})})),r.current.on("mouseenter","energy",(function(){r.current.getCanvas().style.cursor="pointer"})),r.current.on("mouseleave","energy",(function(){r.current.getCanvas().style.cursor=""})),r.current.addSource("gasUsage",{type:"vector",tiles:["".concat(n,"/api/map/gas/{z}/{x}/{y}")],maxzoom:Ne,minzoom:Se}),r.current.addLayer(Le({id:"gasUsage",source:"gasUsage","source-layer":"gasUsage"},Oe)),r.current.on("click","gasUsage",(function(e){var r=e.features[0].properties,t=e.features[0].geometry.coordinates.slice();w(t,{consommation:r})})),r.current.on("mouseenter","gasUsage",(function(){r.current.getCanvas().style.cursor="pointer"})),r.current.on("mouseleave","gasUsage",(function(){r.current.getCanvas().style.cursor=""}))})))}));var N=(0,s.useState)({}),Z=N[0],S=N[1];return(0,s.useEffect)((function(){var e=Z.coord,t=h.coord;if(t&&t!==e){var o="string"===typeof t?t.split(",").map((function(e){return parseFloat(e)})).reverse():t;k({coordinates:o}),S(h),new(c().Marker)({color:"#ea7c3f"}).setLngLat(o).addTo(r.current)}}),[k,h,Z]),(0,s.useEffect)((function(){var e=!1,t=p.map((function(t){if(t.marker)return t;var o=new(c().Marker)({color:"#4550e5"}).setLngLat(t.coordinates).addTo(r.current);return e=!0,Le({marker:o},t)}));e&&f(t)}),[p]),(0,s.useEffect)((function(){if("pending"!==i){Ie.forEach((function(e){return r.current.getLayer(e)?r.current.setLayoutProperty(e,"visibility",m[e]?"visible":"none"):console.warn("Layer '".concat(e,"' is not set on map"))}));var e=m.energy.flatMap((function(e){return ve[e].map((function(e){return["==",["get","energie_utilisee"],e]}))}));r.current.setFilter("energy",["any"].concat((0,a.Z)(e)));var t=m.gasUsage.map((function(e){return["==",["get","code_grand_secteur"],e]}));r.current.setFilter("gasUsage",["any"].concat((0,a.Z)(t)))}}),[m,i]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(de,{}),(0,y.jsxs)("div",{className:"map-wrap",children:[(0,y.jsx)(pe,{className:"search-result-box",right:!0,top:!0,children:(0,y.jsx)(fe,{children:p.length>0&&p.map((function(e,r){return(0,y.jsx)(x,{result:e,onClick:k,onClickClose:O},"".concat(e.address,"-").concat(r))})).reverse()})}),(0,y.jsx)(pe,{right:!0,bottom:!0,children:(0,y.jsx)(F,{data:Me,onToogleFeature:_,onToogleInGroup:function(e,r){switch(e){case"energy":L(r);break;case"gasUsage":P(r)}},layerDisplay:m,forceClosed:p.length>0})}),(0,y.jsx)(pe,{right:!0,top:!0,children:(0,y.jsx)(X,{onAddressSelect:C})}),(0,y.jsx)("div",{ref:e,className:"map"})]})]})}var Fe=t(9008),Ae=d.ZP.div.withConfig({displayName:"carte__MapWrapper",componentId:"sc-jpv3g6-0"})(["min-height:calc(100vh - ",");@media (min-width:992px){height:calc(100vh - "," - ",");}"],ae.EV,ae.YG,ae.Ji);var We=function(){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Fe.default,{children:(0,y.jsx)("title",{children:"Carte des r\xe9seaux : France Chaleur Urbaine"})}),(0,y.jsx)(ae.ZP,{currentMenu:"/carte",fullscreen:!0,children:(0,y.jsx)(Ae,{children:(0,y.jsx)(Te,{})})})]})}},5390:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/carte",function(){return t(4510)}])},6644:function(){},1664:function(e,r,t){e.exports=t(7942)},1163:function(e,r,t){e.exports=t(9898)}},function(e){e.O(0,[644,700,849,946,774,888,179],(function(){return r=5390,e(e.s=r);var r}));var r=e.O();_N_E=r}]);