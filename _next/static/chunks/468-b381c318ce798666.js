"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[468],{5477:function(e,t,n){n.d(t,{Bm:function(){return i},M1:function(){return d},Qx:function(){return f},UG:function(){return o},ZP:function(){return c},_q:function(){return a},d:function(){return s},gr:function(){return p}});var r=n(2125),i=function(e){return(null===e||void 0===e?void 0:e.search(/(^http)|(^mailto)/))>=0},o=r.ZP.div.attrs((function(e){var t=e.className;return{className:"md-wrapper ".concat(t||"")}})).withConfig({displayName:"MarkdownWrapperstyle__MarkdownWrapperStyled",componentId:"sc-1wpixfp-0"})(["h1,h2{color:#000074;}h3,h4{color:#4550e5;}h5,h6{color:var(--bf500);}h1 + h1,h2 + h2,h3 + h3,h4 + h4,h5 + h5,h6 + h6{margin-top:calc(-1rem + 0.25rem);}p{font-size:inherit;line-height:inherit;}em{color:#4550e5;font-style:normal;}strong{color:#4550e5;em{color:#293173;font-style:normal;}}"]),c=r.ZP.a.attrs({className:"fr-btn"}).withConfig({displayName:"MarkdownWrapperstyle__ButtonLink",componentId:"sc-1wpixfp-1"})([""]),a=r.ZP.div.withConfig({displayName:"MarkdownWrapperstyle__CounterItem",componentId:"sc-1wpixfp-2"})(["display:flex;justify-content:center;align-items:center;color:#fff;font-size:1.45rem;padding:1em;margin:0.25em 0 0;width:3.15em;height:3.15em;border-radius:100%;background-color:#4550e5;float:left;margin:-0.4em 0.6em -0.2em 0em;@media (min-width:992px){position:absolute;left:0;margin:0;float:none;}"]),s=r.ZP.p.withConfig({displayName:"MarkdownWrapperstyle__Cartridge",componentId:"sc-1wpixfp-3"})(["display:inline-block;background-color:#ffdecf;margin:0 -0.55em;padding:0.35em 0.55em;border-radius:0.7em;& > &{margin:0;}&:not(.surcharge){p,strong,em,h1,h2,h3,h4,h5,h6{color:currentColor;}","}"],(function(e){switch(e.theme){case"color":case"blue":return(0,r.iv)(["background-color:#4550e5;color:#fff;"]);case"yellow":return(0,r.iv)(["background-color:#efc73f;color:#4550e5;"]);case"grey":return(0,r.iv)(["background-color:#f9f8f6;border:1px solid #e7e7e7;color:#4550e5;"])}})),l=(0,r.iv)(["margin-bottom:1.5rem;display:flex;justify-content:flex-start;align-items:flex-start;color:#4550e5;&::before{content:'';display:block;padding-top:0.15rem;margin-right:0.5rem;color:#4550e5;padding:0;line-height:1;background-image:url('./icons/check.svg');background-repeat:no-repeat;background-position:0 0.5em;background-size:1em;padding-left:calc(1em + 0.15em);min-height:calc(1em + 0.75em);}"]),u=r.ZP.div.attrs({className:"fr-fi-checkbox-circle-fill list-item"}).withConfig({displayName:"MarkdownWrapperstyle__CheckItemDefault",componentId:"sc-1wpixfp-4"})(["margin-bottom:1.5rem;display:flex;justify-content:flex-start;align-items:flex-start;color:#4550e5;&::before{display:block;padding-top:0.15rem;margin-right:0.5rem;color:#2fab73;padding:0;line-height:1;}"]),d=r.ZP.div.attrs((function(e){var t=e.checked,n=e.className;return{className:t?"fr-fi-checkbox-circle-fill list-item ".concat(n):n}})).withConfig({displayName:"MarkdownWrapperstyle__CheckItem",componentId:"sc-1wpixfp-5"})(["",""],(function(e){return e.checked?u:l})),f=r.ZP.div.withConfig({displayName:"MarkdownWrapperstyle__PuceIcon",componentId:"sc-1wpixfp-6"})(["background-image:url(",");background-repeat:no-repeat;background-position:0 0.5em;background-size:70px;padding-left:calc(70px + 0.75em);min-height:calc(70px + 1.5em);"],(function(e){return e.icon||""})),p=r.ZP.a.attrs((function(e){var t=e.href;return{className:"fr-fi-arrow-right-s-line list-item",children:"En savoir plus",target:t&&i(t)?"_blank":void 0}})).withConfig({displayName:"MarkdownWrapperstyle__KnowMoreLink",componentId:"sc-1wpixfp-7"})(["--link-underline:none;text-decoration:none;color:#4550e5;display:inline-block;margin-left:-0.4em;font-size:0.8em;&::before{font-size:1em;}&::after{content:unset;}"])},761:function(e,t,n){n.d(t,{Z:function(){return x}});var r=n(29),i=n(4730),o=n(9499),c=n(7794),a=n.n(c),s=n(1664),l=n.n(s),u=n(7294),d=n(1137),f=n(9051),p=n(9190),m=n(209),g=n(1199),v=n(4733),h=n(5477),b=n(5893),y=["children","value","id","className"];function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){var t=e.href,n={target:t&&(0,h.Bm)(t)?"_blank":void 0,rel:t&&(0,h.Bm)(t)?["nofollow","noopener","noreferrer"].join(" "):""};return(0,b.jsx)(l(),{href:t,prefetch:!1,passHref:!0,children:(0,b.jsx)("a",k(k({},e),n))})},E=function(e){var t=e.children,n=e.ForceBlock,r=void 0===n?u.Fragment:n;return(0,b.jsx)(r,{children:(0,b.jsx)("a",{href:"#consentement",children:t})})},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,v.l)().use(m.Z).use(f.Z).use(p.Z).use(g.Z).use(d.Z,{createElement:u.createElement,Fragment:u.Fragment,components:k({a:O},e)})},x=function(e){var t=e.children,n=e.value,o=e.id,c=e.className,s=(0,i.Z)(e,y),l=(0,u.useState)(""),d=l[0],f=l[1];return(0,u.useEffect)((function(){var e=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(String(n||"string"===typeof t&&t||""));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,n]),(0,b.jsx)(h.UG,k(k({className:c,id:o&&String(o)},s),{},{children:j({"check-item":h.M1,"counter-item":h._q,"consent-link":E,cartridge:h.d,"puce-icon":h.Qx,"button-link":h.ZP,"know-more-link":h.gr}).processSync(d).result}))}},948:function(e,t,n){n.d(t,{Z:function(){return w}});var r,i=n(5336),o=n(7294),c=n(2125),a=(0,c.vJ)([".fr-input{transition:box-shadow .5s ease;color:#000074;:focus{box-shadow:inset 0 -2px 0 0 #000074;}}.fr-input-wrap{box-shadow:0 0 5px rgb(0 0 0 / 74%);border-radius:.25rem .25rem 0 0;}"]),s=c.ZP.p.withConfig({displayName:"AddressAutocompletestyle__EmptySuggestion",componentId:"sc-1ovnvsa-0"})(["margin:0;color:'#454545';padding:'0.25rem 1rem 0.75rem 1rem';font-style:'italic';"]),l=n(5893),u=function(e){var t=e.children,n=e.name,r=void 0===n?"address":n,i=e.centred,o="fr-text--lg fr-my-2w fr-grid-row ".concat(i?"fr-grid-row--center":"fr-grid-row--left");return(0,l.jsx)("label",{className:o,htmlFor:r,children:(0,l.jsx)("span",{children:t})})},d=function(e){var t=e.placeholder,n=void 0===t?"":t,r=e.onChange;return(0,l.jsx)(i.gA,{className:"fr-input",type:"text",id:"address",name:"address",placeholder:n,onChange:r})},f=function(e){var t=e.suggestions;return(0,l.jsx)(i.Gk,{children:t.map((function(e,t){var n=e.properties;return(0,l.jsx)(i.O2,{value:n.label},n.id+t)}))})},p=n(29),m=n(7794),g=n.n(m),v=n(7954),h=n.n(v),b=n(3598);!function(e){e.Idle="idle",e.Loading="loading",e.Success="success",e.Error="error"}(r||(r={}));var y=function(e){var t=e.limit,n=void 0===t?5:t,i=e.autocomplete,c=void 0!==i&&i,a=e.debounceTime,s=void 0===a?300:a,l=e.minCharactersLength,u=void 0===l?3:l,d=(0,o.useState)([]),f=d[0],m=d[1],v=(0,o.useState)(r.Idle),y=v[0],w=v[1],k=(0,o.useRef)(!0),O=(0,b.Su)().suggestionService,E=h()(function(){var e=(0,p.Z)(g().mark((function e(t){var i,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(i=t.trim())&&k.current&&!(i.length<=3)){e.next=4;break}return e.abrupt("return");case 4:return w(r.Loading),e.next=7,O.fetchSuggestions(i,{limit:n.toString(),autocomplete:c.toString()});case 7:o=e.sent,m(o.features),w(r.Success),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),w(r.Error),console.error({error:e.t0});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),s);return(0,o.useEffect)((function(){return function(){k.current=!1}}),[]),{suggestions:f,status:y,fetchSuggestions:function(e){return e.length>=u&&E(e)}}},w=function(e){var t=e.label,n=void 0===t?"":t,r=e.emptySuggestionText,c=void 0===r?"Aucune adresse trouv\xe9e :(":r,p=e.debounceTime,m=void 0===p?200:p,g=e.minCharactersLength,v=void 0===g?3:g,h=e.placeholder,b=void 0===h?"Recherchez une adresse":h,w=e.className,k=e.popoverClassName,O=e.centred,E=e.onAddressSelected,j=e.onChange,x=y({debounceTime:m,limit:5,autocomplete:!1,minCharactersLength:v}),C=x.suggestions,S=x.fetchSuggestions,P=x.status,_=(0,o.useCallback)((function(e,t){var n=function(e,t){return t.find((function(t){return t.properties.label===e}))}(e,t),r=(null===n||void 0===n?void 0:n.geometry.coordinates)||[0,0];E(e,r,n)}),[E]),N=(0,o.useMemo)((function(){return"idle"!==P&&"loading"!==P}),[P]),Z=(0,o.useMemo)((function(){return!!C.length}),[C]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a,{}),(0,l.jsxs)("div",{className:"fr-input-group ".concat(w||""),children:[n&&(0,l.jsx)(u,{centred:O,children:n}),(0,l.jsxs)(i.hQ,{"aria-label":"address","aria-labelledby":"address",className:"fr-input-wrap fr-fi-search-line",onSelect:function(e){return _(e,C)},children:[(0,l.jsx)(d,{onChange:function(e){var t=e.currentTarget.value;j&&j(t),S(t)},placeholder:b}),N&&(0,l.jsx)(i.SF,{className:k,children:Z?(0,l.jsx)(f,{suggestions:C}):(0,l.jsx)(s,{children:c})})]})]})]})}},5873:function(e,t,n){n.d(t,{z$:function(){return m},ki:function(){return h},y_:function(){return i},aI:function(){return v}});var r=["75","77","78","91","92","93","94","95"],i=function(e){return r.includes(e.slice(0,2))},o=n(9499),c=n(29),a=n(7794),s=n.n(a);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e,t){if(!e||!t)return!1;var n="".concat(e<=100?"< 100m":e<=200?"> 100m et < 200m":"> 200m",", ").concat(t);return!["< 100m, collectif","< 100m, individuel","> 100m et < 200m, collectif","> 100m et < 200m, individuel","> 200m, collectif","> 200m, individuel"].includes(n)&&n},f=function(e){switch(e){case"\xe9lectricit\xe9":return"\xc9lectricit\xe9";case"gaz":return"Gaz";case"fioul":return"Fioul";default:return"Autre / Je ne sais pas"}},p=function(e){switch(e){case"individuel":return"Individuel";case"collectif":return"Collectif";default:return"Autre / Je ne sais pas"}},m=function(e){var t=e.address,n=e.coords,r=e.eligibility,i=e.heatingEnergy,o=e.heatingType,c=e.network,a=e.structure,s=e.firstName,l=e.lastName,u=e.company,m=e.email,g=e.termOfUse;return{Nom:l,"Pr\xe9nom":s,Structure:a,"\xc9tablissement":u,"\xc9ligibilit\xe9":r,Adresse:t,Latitude:parseFloat(n.lat),Longitude:parseFloat(n.lon),Mail:m,"Mode de chauffage":f(i),"Type de chauffage":p(o),"Distance au r\xe9seau":null===c||void 0===c?void 0:c.distance,"Choix en fonction de la distance au r\xe9seau":d(null===c||void 0===c?void 0:c.distance,o)||"inconnue","J\u2019accepte les CGU":g}},g=function(){var e=(0,c.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"./api/airtable/create-record",e.abrupt("return",fetch("./api/airtable/create-record",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u(u({},t),{},{type:n}))}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=g,h=function(e){var t=e.address,n=e.coords,r=e.eligibility,i=e.heatingEnergy,o=e.heatingType,c=e.network,a=e.structure,s=e.firstName,l=e.lastName,u=e.company,d=e.email,f=e.termOfUse;return{Nom:l||"","Pr\xe9nom":s||"","\xc9tablissement":u||"",Email:d||"",Structure:a||"",Chauffage:"".concat(i," - ").concat(o),Adresse:{coords:[n.lat,n.lon],label:t||""},"Distance au r\xe9seau":null!==c&&void 0!==c&&c.distance?"".concat(c.distance,"m"):"inconnue","\xc9ligiblit\xe9":r,"Accord des CGU":f}}},103:function(e,t,n){n.d(t,{qO:function(){return x},Co:function(){return S},V_:function(){return _},rc:function(){return N}});var r=n(6835),i=n(1692),o=n(5873),c=n(3454),a=function(){var e=(0,i.H)({formId:"8ccEEqGt"}),t=(0,r.Z)(e,2),n=t[0];return[function(e){return"true"===c.env.NEXT_PUBLIC_MOCK_USER_CREATION?(console.info("Send following data to Formspark",(0,o.ki)(e)),console.info("Send following data to Airtabe",(0,o.z$)(e)),Promise.resolve([function(){},!0])):Promise.all([n((0,o.ki)(e)),(0,o.aI)((0,o.z$)(e),"FCU - Utilisateurs")])},t[1]]},s=n(9499),l=n(29),u=n(7794),d=n.n(u),f=n(7812),p=(n(5893),function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return"function"===typeof(null===(t=window)||void 0===t?void 0:t.fbq)&&window.fbq(["track"].concat((0,f.Z)(e),(0,f.Z)(n)))}),m=function(e,t){var n,i=(0,r.Z)(t,1)[0];return"function"===typeof(null===(n=window)||void 0===n?void 0:n.gtag)&&window.gtag("event","conversion",{send_to:"AW-".concat(e,"/").concat(i)})},g=function(e){var t,n=(0,r.Z)(e,1)[0];return"function"===typeof(null===(t=window)||void 0===t?void 0:t.lintrk)&&window.lintrk("track",{conversion_id:n})},v=JSON.parse('{"eligibilityTest":{"linkedInEvent":[5492674],"facebookEvent":["FindLocation"],"googleAdsEvent":["7ZZ6CJL-9YIDEMrY_5oo"],"matomoEvent":["Eligibilit\xe9","Formulaire de test - Envoi"]},"eligibilityTestOK":{"linkedInEvent":[5392842],"googleAdsEvent":["xmLwCPqp5P0CEMrY_5oo"],"matomoEvent":["Eligibilit\xe9","Formulaire de test - Adresse \xc9ligible"]},"eligibilityTestKO":{"linkedInEvent":[5492666],"googleAdsEvent":["4BLdCLqy_oIDEMrY_5oo"],"matomoEvent":["Eligibilit\xe9","Formulaire de test - Adresse In\xe9ligible"]},"eligibilityTestUnknow":{"linkedInEvent":[5492682],"googleAdsEvent":["4BLdCLqy_oIDEMrY_5oo"],"matomoEvent":["Eligibilit\xe9","Formulaire de test - Adresse Inconnue"]},"contactFormEligible":{"facebookEvent":["Contact"],"matomoEvent":["Eligibilit\xe9","Formulaire de contact \xe9ligible - Envoi"]},"contactFormIneligible":{"facebookEvent":["Contact"],"matomoEvent":["Eligibilit\xe9","Formulaire de contact in\xe9ligible - Envoi"]}}');function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(){var e,t,n,i,o;return null===(e=window)||void 0===e||null===(t=e.tarteaucitron)||void 0===t||null===(n=t.proTemp)||void 0===n||null===(i=n.split("!"))||void 0===i||null===(o=i.reduce((function(e,t){var n=t.split("="),i=(0,r.Z)(n,2),o=i[0],c=i[1];return b(b({},e),{},(0,s.Z)({},o,"false"!==c))}),{}))||void 0===o?void 0:o.matomo},w=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return"function"===typeof(null===(t=window)||void 0===t||null===(n=t._paq)||void 0===n?void 0:n.push)&&window._paq.push(["trackEvent"].concat((0,f.Z)(e),(0,f.Z)(y()?r:["Consentement non accord\xe9"])))},k=n(7294);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(e){var t=e.estEligible,n=e.address,r=t?"contactFormEligible":"contactFormIneligible";w(v[r].matomoEvent,[n]),p(v[r].facebookEvent)},x=function(){var e=(0,k.useRef)(null),t=(0,k.useState)({}),n=t[0],i=t[1],o=(0,k.useState)(!1),c=o[0],s=o[1],u=(0,k.useState)(!1),f=u[0],h=u[1],b=(0,k.useState)(!1),y=b[0],O=b[1],x=(0,k.useState)(!1),C=x[0],S=x[1],P=(0,k.useState)("idle"),_=P[0],N=P[1],Z=a(),I=(0,r.Z)(Z,1)[0],T=(0,k.useCallback)((function(t,n){return window.setTimeout((function(){var t=e.current;null===t||void 0===t||t.scrollIntoView({behavior:"smooth"}),n&&n()}),t)}),[]),A=(0,k.useCallback)((function(e){var t=e.address,n=e.heatingType;i(e),h(t&&!n)}),[]),F=(0,k.useCallback)((function(e){var t=e.address,r=n.heatingType;N("loading"),O(!1),S(!1),function(e){w(v.eligibilityTest.matomoEvent,[e]),g(v.eligibilityTest.linkedInEvent),p(v.eligibilityTest.facebookEvent),m("10794036298",v.eligibilityTest.googleAdsEvent)}(t),h(t&&!r)}),[n]),M=(0,k.useCallback)((function(e){var t=e.address,n=e.heatingType;if(function(e){var t=e.eligibility,n=e.address;t?(w(v.eligibilityTestOK.matomoEvent,[n||"Adresse indefini"]),g(v.eligibilityTestOK.linkedInEvent),m("10794036298",v.eligibilityTestOK.googleAdsEvent)):(w(v.eligibilityTestKO.matomoEvent,[n||"Adresse indefini"]),g(v.eligibilityTestKO.linkedInEvent),m("10794036298",v.eligibilityTestKO.googleAdsEvent))}({eligibility:e.eligibility,address:t}),i(e),t&&n){s(!0);var r=T(500,(function(){return N("loaded")}));return function(){return window.clearTimeout(r)}}}),[T]),D=(0,k.useCallback)((0,l.Z)(d().mark((function e(){var t,r,o=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Tertiaire"!==(t=o.length>0&&void 0!==o[0]?o[0]:{}).structure&&(t.company=""),O(!0),j(t),e.next=6,I(t);case 6:return r=T(500),i(E(E({},n),t)),S(!0),e.abrupt("return",(function(){return window.clearTimeout(r)}));case 10:case"end":return e.stop()}}),e)}))),[n,I,T]);return{EligibilityFormContactRef:e,addressData:n,contactReady:c,showWarning:f,messageSent:y,messageReceived:C,loadingStatus:_,warningMessage:"N'oubliez pas d'indiquer votre type de chauffage.",handleOnChangeAddress:A,handleOnFetchAddress:F,handleOnSuccessAddress:M,handleOnSubmitContact:D}},C=n(2045),S=function(e){var t=e.id,n=e.name,r=(0,k.useRef)((0,C.Z)());return(0,k.useMemo)((function(){return"".concat(t||n||"id","-").concat(r.current)}),[n,t])},P="__FCU:App__";var _=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.beforeStorage,i=void 0===r?function(){}:r,o=n.keyPrefix,c=void 0===o?P:o,a=(0,k.useState)(t),s=a[0],l=a[1],u=(0,k.useMemo)((function(){return"".concat(c,"-").concat(e)}),[c,e]),d=(0,k.useRef)(u),f=(0,k.useCallback)((function(e,t){return window.localStorage.setItem(e,JSON.stringify(i(t)))}),[i]);return(0,k.useEffect)((function(){try{var e=window.localStorage.getItem(u);null!==e&&l(JSON.parse(e))}catch(t){console.error(t)}}),[u]),(0,k.useEffect)((function(){try{f(d.current,s)}catch(e){console.error(e)}}),[f,s]),(0,k.useEffect)((function(){var e=d.current;if(u!==e)try{f(u,s),d.current=u,window.localStorage.removeItem(e)}catch(t){console.error(t)}}),[u,f,s]),[s,l]};var N=function(e){var t=(0,k.useRef)();return(0,k.useEffect)((function(){t.current=e}),[e]),t.current}}}]);