"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[661],{2011:function(a,b,c){c.r(b),c.d(b,{"default":function(){return ka}});var d=c(9499),e=c(557),f=c(5243),g=c.n(f);c(5271);var h=c(7294);function i(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function j(a){var b=a.url,c=a.style,f=void 0===c?{}:c,j=a.attribution,k=void 0===j?"":j,l=a.interactive,m=(0,e.mE)(),n=m.layerContainer,o=m.map,p=(0,h.useMemo)(function(){return{attribution:k,vectorTileLayerStyles:(function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?i(Object(c),!0).forEach(function(b){(0,d.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):i(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a})({},f),interactive:null!=l&&l}},[k,l,f]),q=(0,h.useMemo)(function(){return b?g().vectorGrid.protobuf(b,p):null},[p,b]),r=(0,h.useMemo)(function(){return n||o},[n,o]);return(0,h.useEffect)(function(){return q&&r.addLayer(q),function(){q&&r.removeLayer(q)}},[r,q]),null}c(4542),c(7329),c(9658);var k=c(9941),l=c(795),m=c(8303),n=c(7409),o=c(4474),p=c(6346),q=c(7379),r={color:"#18753c",bgColor:"#b8fec9"},s={color:"#ce0500",bgColor:"#ffe9e9"},t=q.ZP.div.withConfig({displayName:"CardSearchDetailsstyle__MapCard",componentId:"sc-4yqklv-0"})(["width:100%;display:block;background-color:white;margin:1em 0;border:2px solid var(--bf500);border:1px solid rgb(0 0 0 / 20%);border-radius:0.3em;overflow:hidden;box-shadow:1px 0 4px 1px rgb(0 0 0 / 20%);"," > header{display:flex;padding:0.5em;cursor:",";font-weight:bold;"," .buttonsWrapper{flex:1;display:flex;justify-content:flex-end;align-items:flex-start;padding-left:0.5rem;.closeButton{position:relative;display:flex;justify-content:center;align-items:center;background-color:#ffffff;box-shadow:0 1px 2px 1px #33333333;width:1.25rem;height:1.25rem;border-radius:50%;cursor:pointer;::before,::after{content:'';position:absolute;width:2px;height:80%;background-color:#333;}::before{content:'';transform:rotate(-45deg);}::after{content:'';transform:rotate(45deg);}}}}section{padding:0.5em;","}&.close{section{max-height:0;padding:0 0.5em;}:hover{section{max-height:1000px;padding:0.25em 0.5em;}}}"],function(a){var b=a.typeCard,c=a.isEligible;switch(b){case"search":return(0,q.iv)(["border:2px solid ",";"],c?r.bgColor:s.bgColor);case"legend":return(0,q.iv)(["border:2px solid #4550e5;"])}},function(a){var b=a.isClickable,c=a.isClosable;return b||c?"pointer":"default"},function(a){var b=a.typeCard,c=a.isEligible;switch(b){case"search":return(0,q.iv)(["background-color:",";color:",";"],c?r.bgColor:s.bgColor,c?r.color:s.color);case"legend":return(0,q.iv)(["background-color:#4550e5;color:#ffffff;"])}},function(a){return a.isClosable&&(0,q.iv)(["max-height:1000px;transition:max-height 0.75s ease,padding 0.5s ease 0.25s;"])}),u=q.ZP.div.withConfig({displayName:"CardSearchDetailsstyle__EligibilityResult",componentId:"sc-4yqklv-1"})(["background-color:#eeeeee;padding:0.5em;margin-bottom:0.5em;border-left:2px solid;",""],function(a){var b=a.isEligible;return(0,q.iv)(["border-color:","",";"],b?r.color:s.color,"a6")}),v=c(5893),w=function(a){var b=a.children,c=a.event,d=(0,k.Sx)(),e=h.createRef();return(0,h.useEffect)(function(){e.current&&g().DomEvent.on(e.current,c||"click dblclick mousewheel scroll touchstart",function(a){g().DomEvent.stopPropagation(a)})},[c,e]),(0,v.jsx)("div",{ref:e,onMouseOver:function(){d.dragging.disable()},onMouseOut:function(){d.dragging.enable()},onClick:function(a){a.stopPropagation()},children:b})},x=function(a){var b,c,d,e=a.result,f=a.onClick,g=a.onClickClose,h=a.flyOnClick,i=(0,k.Sx)(),j=((null===(b=e.addressDetails)|| void 0===b?void 0:null===(c=b.networkDetails)|| void 0===c?void 0:c.network)||{}).distance,l=((null===(d=e.addressDetails)|| void 0===d?void 0:d.networkDetails)||{}).isEligible;return(0,v.jsx)(w,{event:"dblclick mousewheel scroll touchstart",children:(0,v.jsxs)(t,{isEligible:l,typeCard:"search",onClick:function(a){var b="function"==typeof f&&f(e)||void 0;return h&&e.coordinates&&i.flyTo(e.coordinates,"number"==typeof h?h:15),a.stopPropagation(),b},isClickable:!0,children:[(0,v.jsxs)("header",{children:[e.address,(0,v.jsx)("div",{className:"buttonsWrapper",children:g&&(0,v.jsx)("div",{className:"closeButton",onClick:function(){g&&g(e)}})})]}),(0,v.jsxs)("section",{children:[(0,v.jsx)(u,{isEligible:l,children:l?"Bonne nouvelle ! Un r\xe9seau de chaleur passe \xe0 proximit\xe9 de cette adresse.":"Cette adresse n'est pour le moment pas raccordable \xe0 un r\xe9seau de chaleur."}),(0,v.jsx)("div",{children:j&&"Distance aux reseaux : ".concat(j>=1e3?"".concat(j/1e3,"km"):"".concat(j,"m"))})]})]})})},y=(0,q.vJ)([".leaflet-container .leaflet-control-attribution{margin:0.5em 0;padding:0 0.5em;background:rgba(255,255,255,0.85);font-weight:bold;padding-left:3rem;position:relative;}.leaflet-control-attribution{position:relative;border-radius:1em 0 0 1em;overflow:hidden;cursor:default;transform:translateX(calc(100% - 3em));transition:transform 0.4s ease;&::before{content:'\xa9';position:absolute;left:0;height:100%;display:inline-flex;align-items:center;justify-content:center;width:3rem;padding-left:1.25em;padding-right:0.5em;margin-right:0.5em;margin-left:-0.5em;border-right:1px solid #fff;background-color:#4550e5;color:#fff;font-weight:bold;cursor:pointer;}&::after{content:'';position:absolute;left:0;top:50%;width:0em;height:0em;border:0 none transparent;border-left:0.5em solid transparent;border-right:0.5em solid transparent;border-bottom:0.5em solid #fff;transform:translateY(calc(-50% - .05em)) rotate(-90deg) translateY(.45em);transition:transform 0.5s ease;}&:hover{transform:translateX(0);&::after{transform:translateY(calc(-50% - .05em)) rotate(90deg) translateY(-.45em);}}a[target]{color:#4550e5;&::after{content:'';}}}.my-div-icon{position:relative;i{position:relative;display:block;transform-origin:bottom;::before{content:\"\";display:block;position:absolute;bottom:0;left:0;width:2.5rem;height:2.5rem;background-color:#4550e5;border:2px solid white;border-radius:50% 45% 75% 0% / 75% 45% 50% 0%;transform-origin:bottom left;transform:translateX(6px) translateY(-3px) rotate(-45deg);box-shadow:-3px 3px 4px 3px rgb(0 0 0 / 35%)}::after{content:\"\";display:block;position:absolute;top:0;left:0;width:1.3rem;height:1.3rem;border:5px double white;border-radius:50%;transform:translateX(6px) translateY(-3px) translateX(-.65rem) translateY(-.65rem) translateY(-1.8rem);}}}.pan-map-aside{width:100%;}"]),z=(0,q.vJ)(["hr{border:1px solid #4550e5;border-width:0 0 1px;margin:.75em 2em;height:0;}.legend{width:0rem;height:1rem;display:inline-flex;vertical-align:text-bottom;justify-content:center;align-items:center;margin-right:0.2em;::before{content:'';display:block;height:1rem;}}.legend-heat-network{width:1.5rem;:before{width:100%;height:0;border:3px solid #2d9748;border-radius:3px;margin-bottom:calc(0.25em - 1.5px)}}.legend-boiler-room{width:1.5rem;:before{width:100%;border:3px solid #ff6600;border-radius:3px;background-color:#ff660088;margin-bottom:calc(0.25em - 1.5px)}}.legend-substation{width:1.5rem;:before{width:1rem;border:3px solid #ff00d4;border-radius:50%;background-color:#ff00d4;margin-bottom:calc(0.25em - 1.5px)}}.legend-energy{width:.6rem;::before{width:0.5rem;height:0.5rem;border-radius:50%;margin-bottom:calc(0.25em - 1.5px)}}.legend-heating{width:0rem;}"]),A=q.ZP.div.withConfig({displayName:"Mapstyle__GroupeLabel",componentId:"sc-19llg5-0"})(["padding-bottom:0.8em;&:last-child{padding-bottom:0;}header{font-weight:bold;margin-bottom:0.5em;}.groupe-label-body{display:flex;flex-wrap:wrap;justify-content:stretch;align-items:stretch;padding:0 0 0.4rem 0;.label-item{flex:1;min-width:30%;max-width:100%;display:flex;text-align:left;justify-content:flex-start;label{display:inline;white-space:nowrap;&::before{width:0.7em;}}}}"]),B=q.ZP.span.withConfig({displayName:"Mapstyle__LabelLegend",componentId:"sc-19llg5-1"})(["::before{background-color:",";}"],function(a){return a.bgColor||"grey"}),C=q.ZP.div.withConfig({displayName:"Mapstyle__ScaleLegendWrapper",componentId:"sc-19llg5-2"})(["padding:0 0 0.4rem 0;",""],function(a){return a.framed&&(0,q.iv)(["padding:0.3em 0.5em 0.55em;margin-bottom:0.4rem;background-color:#efefef;border-radius:0.2em;"])}),D=q.ZP.div.withConfig({displayName:"Mapstyle__ScaleLegendHeader",componentId:"sc-19llg5-3"})(["font-size:0.8em;margin-bottom:0.2em;"]),E=q.ZP.label.withConfig({displayName:"Mapstyle__ScaleLegendLabel",componentId:"sc-19llg5-4"})(["display:inline-block;margin-bottom:0.2em;"]),F=q.ZP.input.withConfig({displayName:"Mapstyle__Input",componentId:"sc-19llg5-5"})([""]),G=q.ZP.div.withConfig({displayName:"Mapstyle__ScaleLegendBody",componentId:"sc-19llg5-6"})(["display:flex;",""],function(a){return a.checkbox&&(0,q.iv)(["padding:0 0.3em;"])}),H=q.ZP.div.withConfig({displayName:"Mapstyle__ScaleLegendLabelWrapper",componentId:"sc-19llg5-7"})(["font-size:0.9em;display:inline;position:relative;padding-right:0.5em;margin-right:0.5em;&::after{content:'';display:block;position:absolute;width:2px;height:70%;background-color:rgb(69 80 229 / 34%);right:0;top:15%;}&:last-child::after{display:none;}"]),I=q.ZP.span.withConfig({displayName:"Mapstyle__ScaleLabelLegend",componentId:"sc-19llg5-8"})(["width:",";height:1em;display:inline-flex;vertical-align:text-bottom;justify-content:center;align-items:center;margin-right:0.2em;::before{content:'';display:block;width:",";height:",";border-radius:50%;margin-bottom:calc(0.25em - 1.5px);background-color:",";}"],function(a){var b=a.size;return"".concat(b,"rem")},function(a){var b=a.size;return"".concat(b,"em")},function(a){var b=a.size;return"".concat(b,"em")},function(a){return a.bgColor||"grey"}),J=function(a){var b=a.label,c=a.checkbox,d=a.checked,e=a.framed,f=a.onChange,g=a.color,h=a.scaleLabels;return(0,v.jsxs)(C,{framed:e,children:[c?(0,v.jsxs)(E,{children:[(0,v.jsx)(F,{type:"checkbox",checked:d,onChange:f}),b]}):(0,v.jsx)(D,{children:b}),(0,v.jsx)(G,{checkbox:c,children:h.map(function(a){var b=a.bgColor,c=a.label,d=a.size;return(0,v.jsxs)(H,{children:[(0,v.jsx)(I,{bgColor:b||g,size:d}),c]},c)})})]})},K=q.ZP.div.withConfig({displayName:"Mapstyle__MapWrapper",componentId:"sc-19llg5-9"})(["height:100%;width:100%;flex:1;position:relative;overflow:hidden;"]),L="3.5rem",M="5rem",N="20px",O=q.ZP.div.withConfig({displayName:"Mapstyle__MapControlWrapper",componentId:"sc-19llg5-10"})(["position:absolute;z-index:401;top:0;font-size:1rem;padding:1em;top:0;bottom:0;right:0;width:calc(22.5% + 2em);max-width:22rem;min-width:20.5rem;:before{content:'';display:block;position:absolute;top:0;bottom:0;left:0;right:0;background:white;box-shadow:1px 0 4px 1px rgb(0 0 0 / 20%);z-index:-1;transform:translateX(105%);transition:transform ease-in-out 0.5s;}"]),P=q.ZP.div.withConfig({displayName:"Mapstyle__MapAsideContainer",componentId:"sc-19llg5-11"})(["position:absolute;z-index:401;font-size:1rem;padding:1em;max-height:100%;left:0;right:0;"," overflow-y:overlay;&.search-result{padding-top:",";padding-bottom:",";mask-image:linear-gradient(180deg,transparent 0,black 0%),linear-gradient( 180deg,transparent 0,black ",",black calc(100% - ","),transparent 100% );mask-size:",",calc(100% - ",");mask-repeat:no-repeat,no-repeat;mask-position:right top,left top;}"],function(a){return a.bottom?(0,q.iv)(["bottom:0;"]):(0,q.iv)(["top:0;"])},L,M,L,M,N,N);q.ZP.input.attrs({type:"text"}).withConfig({displayName:"Mapstyle__InputSearch",componentId:"sc-19llg5-12"})(["width:100%;box-sizing:border-box;padding:0.5em;line-height:1em;border-radius:0.3em;font-size:1rem;color:var(--bf500);border:2px solid var(--bf500);transition-property:border-color,color;transition-timing-function:ease;transition-duration:0.5s;outline:0px none transparent;box-shadow:1px 0 4px 1px rgb(0 0 0 / 20%);:placeholder-shown:not(:focus){border:2px solid rgb(0 0 0 / 20%);}"]);var Q=function(a){var b=a.attributionPrefix;return(0,k.Sx)().attributionControl.setPrefix(b),null},R=c(6835),S=c(29),T=c(7794),U=c.n(T),V=c(1095),W=c(3598),X=(0,q.vJ)([".popover-class-name{z-index:1000;}"]),Y=function(a){var b,c=a.onAddressSelect,d=(0,k.Sx)(),e=(0,W.Su)().heatNetworkService,f=(b=(0,S.Z)(U().mark(function a(b,f){var g,h,i,j,k,l,m;return U().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return h=(g=(0,R.Z)(f,2))[0],j={lat:i=g[1],lng:h},d.setView(j,d.getMaxZoom()-1,{animate:!0}),k={lat:i,lon:h},a.next=6,e.findByCoords(k);case 6:m={networkDetails:l=a.sent},c&&c(b,[i,h],m);case 9:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)});return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(X,{}),(0,v.jsx)(V.Z,{placeholder:"Rechercher une adresse",onAddressSelected:f,popoverClassName:"popover-class-name"})]})},Z=c(3454);function $(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?$(Object(c),!0).forEach(function(b){(0,d.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):$(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var aa="".concat(Z.env.NEXT_PUBLIC_MAPBOX_API_TOKEN),ba=g().divIcon({className:"my-div-icon",html:"<i/>"});function ca(){var a=(0,k.$_)("click",function(b){console.info("e.latlng =>",b.latlng,"/ Current Zoom =>",a.getZoom())});return null}var da={fioul:"fuelOil",fioul_domestique:"fuelOil",gaz:"gas",gaz_naturel:"gas",gaz_propane_butane:"gas",charbon:"wood",bois_de_chauffage:"wood",electricite:"electric",energie_autre:"unknow","sans objet":"unknow","default":"unknow"},ea={fuelOil:"Fioul collectif",gas:"Gaz collectif",wood:"Bois",electric:"Electrique",unknow:"Autre"},fa={T:"Tertiaire",R:"R\xe9sidentiel",unknow:"Inconnu"},ga={collectif:"collective",individuel:"individual",mixte:"mixed",sans_chauffage:"unknow","sans objet":"unknow"},ha={fuelOil:{color:"#c72e6e"},gas:{color:"#9c47e2"},wood:{color:"#ce7f17"},electric:{color:"#4cd362"},unknow:{color:"#818181"}},ia={T:{color:"#13e0d6"},R:{color:"#136ce0"},unknow:{color:"#818181"}},ja=function(a,b){var c=function(a,b){var c=!0,d=null==a?void 0:a.energie_utilisee;c=c&&(null==b?void 0:b.energy.includes(da[d]));var e=null==a?void 0:a.type_chauffage;return c=c&&(null==b?void 0:b.heating.includes(ga[e]))},d=function(a,b){var c=!0,d=null==a?void 0:a.code_grand_secteur;return c=c&&(null==b?void 0:b.gasUsage.includes(d))},e=function(a,b){return!!(null!=b&&b[a])};return{outline:function(b,c){return{color:"#2d9748",opacity:e("outline",a)?c>15?1:.75:0,fill:!0,weight:c>15?5:3}},substation:{color:"#ff00d4",opacity:e("substation",a)?1:0,fill:!0,fillOpacity:e("substation",a)?1:0,weight:2},boilerRoom:function(b,c){return{color:"#ff6600",opacity:e("boilerRoom",a)?1:0,lineJoin:"miter",fill:!0,fillOpacity:e("boilerRoom",a)?c>15?.5:1:0,fillRule:"nonzero",weight:2}},gasUsage:function(c,e){var f=c.conso;return _(_({},ia[c.code_grand_secteur||"unknow"]),{},{opacity:0,fill:!0,fillOpacity:d(c,a)?.25:0,radius:Number.parseFloat(((f<100?12:f<1e3?24:48)/(b-e+1)).toFixed(2))})},condominiumRegister:function(d,e){var f,g=d.nb_lot_habitation_bureau_commerce;return _(_({},(f=d.energie_utilisee,ha[(null==da?void 0:da[f])||"unknow"])),{},{opacity:0,fill:!0,fillOpacity:c(d,a)?.65:0,radius:Number.parseFloat(((g<100?12:g<1e3?24:48)/(b-e+1)).toFixed(2))})}}},ka=function(){var a=[48.85294,2.34987],b=(0,h.useState)(a),c=b[0],e=b[1],f=(0,h.useState)(!1),g=f[0],i=f[1],k=(0,h.useState)([]),q=k[0],r=k[1],s=(0,h.useState)(!0),u=s[0],C=s[1],D=(0,h.useState)({outline:!0,substation:!0,boilerRoom:!0,gasUsage:["R","T"],energy:["fuelOil","gas"],heating:["collective"]}),E=D[0],F=D[1],G=(0,h.useMemo)(function(){return ja(E,18)},[E]),H=(0,h.useMemo)(function(){return ja(E,18)},[E]),I=function(a){if(a.coordinates){var b=function(a){return Array.isArray(a)?a.join("--"):"".concat(a.lat,"--").concat(a.lng)},c=b(a.coordinates);r(q.filter(function(a){return b(a.coordinates)!==c})),i(!1)}},L=function(a){return function(){F(_(_({},E),{},(0,d.Z)({},a,!(null!=E&&E[a]))))}};return(0,v.jsxs)(K,{children:[(0,v.jsx)(y,{}),(0,v.jsxs)(l.h,{center:a,maxZoom:18,minZoom:4,zoom:13,style:{height:"100%",width:"100%"},children:[(0,v.jsx)(Q,{attributionPrefix:"<a href=\"https://beta.gouv.fr/\" target=\"_blank\">beta.gouv</a>"}),(0,v.jsx)(m.I,{url:"https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/256/{z}/{x}/{y}@2x?access_token=".concat(aa),attribution:"Outils cartographique : <a href=\"https://leafletjs.com/\" target=\"_blank\">Leaflet</a> | Donn\xe9es Cartographiques : \xa9 <a href=\"https://www.openstreetmap.org/\" target=\"_blank\">OpenStreetMap</a> contributors (sous license <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\" target=\"_blank\">CC-BY-SA</a>), fond de carte \xa9 <a href=\"https://www.mapbox.com/\" target=\"_blank\">Mapbox</a>"}),(0,v.jsx)(j,{url:"/api/map/network/{z}/{x}/{y}",style:G,interactive:!0}),(0,v.jsx)(j,{url:"/api/map/energy/{z}/{x}/{y}",style:H,attribution:"Registre des copropri\xe9t\xe9s",interactive:!0}),(0,v.jsx)(j,{url:"/api/map/gas/{z}/{x}/{y}",style:ja(E,18),attribution:"Donn\xe9es locales d'\xe9nergie - MTE",interactive:!0}),g&&(0,v.jsx)(n.J,{position:c,icon:ba}),(0,v.jsx)(o.j,{maxWidth:200,imperial:!1,metric:!0}),(0,v.jsx)(p.$,{pane:"popupPane",interactive:!1,bubblingMouseEvents:!0,children:(0,v.jsx)("div",{className:"pan-map-aside",children:(0,v.jsxs)(O,{children:[(0,v.jsx)(P,{className:"search-result",children:q.length>0&&q.map(function(a,b){return(0,v.jsx)(x,{result:a,flyOnClick:17,onClickClose:I},"".concat(a.address,"-").concat(b))}).reverse()}),(0,v.jsx)(P,{bottom:!0,children:(0,v.jsx)(w,{event:"dblclick mousewheel scroll",children:(0,v.jsxs)(t,{typeCard:"legend",isClosable:!0,className:!u||q.length>0?"close":"",children:[(0,v.jsx)(z,{}),(0,v.jsx)("header",{onClick:function(){return C(!u)},children:"L\xe9gende"}),(0,v.jsxs)("section",{children:[(0,v.jsx)("div",{children:(0,v.jsxs)("label",{children:[(0,v.jsx)("input",{type:"checkbox",checked:!!E.outline,onChange:L("outline")})," ",(0,v.jsx)("span",{className:"legend legend-heat-network"}),"R\xe9seaux de chaleur"]})}),(0,v.jsx)("div",{children:(0,v.jsxs)("label",{children:[(0,v.jsx)("input",{type:"checkbox",checked:!!E.boilerRoom,onChange:L("boilerRoom")})," ",(0,v.jsx)("span",{className:"legend legend-boiler-room"}),"Chaufferie"]})}),(0,v.jsx)("div",{children:(0,v.jsxs)("label",{children:[(0,v.jsx)("input",{type:"checkbox",checked:!!E.substation,onChange:L("substation")})," ",(0,v.jsx)("span",{className:"legend legend-substation"}),"Sous station"]})}),(0,v.jsx)("hr",{}),(0,v.jsxs)("div",{children:[(0,v.jsxs)(A,{children:[(0,v.jsx)("header",{children:"Copropri\xe9t\xe9s\xa0: type de chauffage"}),(0,v.jsx)("div",{className:"groupe-label-body",children:["fuelOil","gas"].map(function(a){var b;return(0,v.jsx)("div",{className:"label-item",children:(0,v.jsxs)("label",{children:[(0,v.jsx)("input",{type:"checkbox",checked:!!E.energy.includes(a),onChange:(b=a,function(){var a=new Set(E.energy);a.has(b)?a.delete(b):a.add(b),F(_(_({},E),{},{energy:Array.from(a)}))})}),(0,v.jsx)(B,{className:"legend legend-energy",bgColor:ha[a].color}),ea[a]||ea.unknow]})},a)})}),(0,v.jsx)(J,{framed:!0,label:"Nombre de lots d'habitation",color:"#afafaf",scaleLabels:[{label:"< 100",size:.5},{label:"100 \xe0 1000",size:1},{label:"> 1000",size:2}]})]}),(0,v.jsxs)(A,{children:[(0,v.jsx)("header",{children:"Consommations de gaz"}),(0,v.jsx)("div",{className:"groupe-label-body",children:["R","T"].map(function(a){var b;return(0,v.jsx)("div",{className:"label-item",children:(0,v.jsxs)("label",{children:[(0,v.jsx)("input",{type:"checkbox",checked:!!E.gasUsage.includes(a),onChange:(b=a,function(){var a=new Set(E.gasUsage);a.has(b)?a.delete(b):a.add(b),F(_(_({},E),{},{gasUsage:Array.from(a)}))})}),(0,v.jsx)(B,{className:"legend legend-energy",bgColor:"".concat(ia[a].color,"99")}),fa[a]||fa.unknow]})},a)})}),(0,v.jsx)(J,{framed:!0,label:"Niveau de consomation de gaz (MWh)",color:"#afafaf",scaleLabels:[{label:"< 100",size:.5},{label:"100 \xe0 1000",size:1},{label:"> 1000",size:2}]})]})]})]})]})})}),(0,v.jsx)(P,{children:(0,v.jsx)(w,{children:(0,v.jsx)(Y,{onAddressSelect:function(a,b,c){console.info("onAddressSelectHandle =>",a,b,c),r([{coordinates:b,address:a,addressDetails:c,search:{date:Date.now()}}]),e(b),i(!0)}})})})]})})}),(0,v.jsx)(ca,{})]})]})}},1095:function(a,b,c){c.d(b,{Z:function(){return w}});var d=c(7294),e=c(5893),f=function(a){var b=a.label,c=a.name,d=a.centred,f="fr-text--lg fr-my-2w fr-grid-row ".concat(d?"fr-grid-row--center":"fr-grid-row--left");return(0,e.jsx)("label",{className:f,htmlFor:void 0===c?"address":c,children:(0,e.jsx)("span",{children:b})})},g=c(341),h=function(a){var b=a.suggestions;return(0,e.jsx)(g.Gk,{children:b.map(function(a,b){var c=a.properties;return(0,e.jsx)(g.O2,{value:c.label},c.id+b)})})},i=c(29),j=c(6835),k=c(7794),l=c.n(k),m=c(9341),n=c(7954),o=c.n(n),p=c(3598),q=function(){var a,b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{limit:5,autocomplete:!1,debounceTime:300},c=b.limit,e=b.autocomplete,f=b.debounceTime,g=d.useState([]),h=(0,j.Z)(g,2),k=h[0],n=h[1],q=d.useState(m.qb.Idle),r=(0,j.Z)(q,2),s=r[0],t=r[1],u=d.useRef(!0),v=(0,p.Su)().suggestionService,w=o()((a=(0,i.Z)(l().mark(function a(b){var d,f;return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!(!(d=b.trim())||!u.current||d.length<=3)){a.next=4;break}return a.abrupt("return");case 4:return t(m.qb.Loading),a.next=7,v.fetchSuggestions(d,{limit:c.toString(),autocomplete:e.toString()});case 7:n((f=a.sent).features),t(m.qb.Success),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(0),t(m.qb.Error),console.log({error:a.t0});case 16:case"end":return a.stop()}},a,null,[[0,12]])})),function(b){return a.apply(this,arguments)}),f);return d.useEffect(function(){return function(){u.current=!1}},[]),{suggestions:k,status:s,fetchSuggestions:w}},r=function(a,b){var c=q({debounceTime:b,limit:5,autocomplete:!1}),e=c.suggestions,f=c.fetchSuggestions,g=c.status,h=(0,d.useCallback)(function(b,c){var d=(0,m.Yu)(b,c);a(b,d)},[a]);return{handleSelect:h,suggestions:e,fetchSuggestions:function(a,b){return a.length>=b&&f(a)},status:g}},s=c(7379),t=function(a){var b=a.placeholder,c=a.onChange;return(0,e.jsx)(g.gA,{className:"fr-input",type:"text",id:"address",name:"address",placeholder:void 0===b?"":b,onChange:c})},u=function(a){var b=a.text;return(0,e.jsx)("p",{style:{margin:0,color:"#454545",padding:"0.25rem 1rem 0.75rem 1rem",fontStyle:"italic"},children:void 0===b?"Aucune adresse trouv\xe9e :(":b})},v=(0,s.vJ)([".fr-input{transition:box-shadow .5s ease;color:#000074;:focus{box-shadow:inset 0 -2px 0 0 #000074;}}.fr-input-wrap{box-shadow:0 0 5px rgb(0 0 0 / 74%);border-radius:.25rem .25rem 0 0;}"]),w=function(a){var b,c=a.label,d=void 0===c?"":c,i=a.emptySuggestionText,j=a.debounceTime,k=a.minCharactersLength,l=void 0===k?3:k,m=a.placeholder,n=a.popoverClassName,o=a.centred,p=a.onAddressSelected,q=r(p,void 0===j?200:j),s=q.handleSelect,w=q.suggestions,x=q.fetchSuggestions,y=q.status,z="idle"!==(b=y)&&"loading"!==b;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v,{}),(0,e.jsxs)("div",{className:"fr-input-group",children:[d&&(0,e.jsx)(f,{label:d,centred:o}),(0,e.jsxs)(g.hQ,{"aria-label":"address","aria-labelledby":"address",className:"fr-input-wrap fr-fi-search-line",onSelect:function(a){return s(a,w)},children:[(0,e.jsx)(t,{onChange:function(a){return x(a.currentTarget.value,l)},placeholder:void 0===m?"Recherchez une adresse":m}),z&&(0,e.jsx)(g.SF,{className:n,children:w.length?(0,e.jsx)(h,{suggestions:w}):(0,e.jsx)(u,{text:i})})]})]})]})}},9341:function(a,b,c){c.d(b,{Yu:function(){return f},dx:function(){return g},qb:function(){return d}});var d,e,f=function(a,b){var c=b.find(function(b){return b.properties.label===a});return(null==c?void 0:c.geometry.coordinates)||[0,0]},g=function(a){return{lon:a[0],lat:a[1]}};(e=d||(d={})).Idle="idle",e.Loading="loading",e.Success="success",e.Error="error"}}])