(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[526],{3526:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var r=t(4861),i=t(761),s=t(6271),o=t(7294),a=t(7379),c=a.ZP.div.withConfig({displayName:"HeadSlicestyle__HeadSliceContainer",componentId:"sc-1dpsolu-0"})(["background:transparent;min-height:630px;display:flex;align-items:center;justify-content:center;"," @media (max-width:990px){margin:0 -1rem;padding:0 1rem;background-color:rgba(256,256,256,0.8);background-image:linear-gradient( to bottom,transparent,rgb(79 173 199 / 50%) );}@media (max-width:1440px){background-size:cover;background-position:left center;}"],(function(e){return e.needGradient&&(0,a.iv)(["background-image:linear-gradient(90deg,#cde3f000 45%,#cde3f0 60%);"])})),l=a.ZP.div.withConfig({displayName:"HeadSlicestyle__Container",componentId:"sc-1dpsolu-1"})(["@media (min-width:992px){padding-left:3rem;margin-left:50%;}"]),u=a.ZP.span.withConfig({displayName:"HeadSlicestyle__PageTitlePreTitle",componentId:"sc-1dpsolu-2"})(["color:#000074;display:block;font-size:2.06rem;"]),d=a.ZP.h1.withConfig({displayName:"HeadSlicestyle__PageTitle",componentId:"sc-1dpsolu-3"})(["color:#4550e5;font-size:2.815rem;line-height:3rem;letter-spacing:-0.03rem;"]),g=a.ZP.div.withConfig({displayName:"HeadSlicestyle__PageBody",componentId:"sc-1dpsolu-4"})(["color:#000074;font-size:1.5rem;line-height:2.25rem;font-weight:bold;p{font-size:1em;line-height:1.5em;}h1{color:#4550e5;font-size:2em;line-height:1.1;letter-spacing:-0.01em;margin-bottom:0.2em;}"]),f=a.ZP.div.withConfig({displayName:"HeadSlicestyle__FormLabel",componentId:"sc-1dpsolu-5"})(["color:#2731b1;font-weight:500;letter-spacing:-0.05rem;font-size:1.25rem;"]),m=t(5893);var p=function(e){var n=e.bg,t=e.bgPos,a=e.CheckEligibility,p=e.formLabel,h=e.pagePreTitle,b=e.pageTitle,v=e.pageBody,x=e.children,y=e.needGradient,Z=(0,o.useMemo)((function(){return(b||h||v)&&(0,m.jsxs)(m.Fragment,{children:[(b||h)&&(0,m.jsxs)(d,{className:"fr-mb-4w",children:[h&&(0,m.jsx)(u,{children:h}),b]}),v&&(0,m.jsxs)(g,{children:[(0,m.jsx)(i.Z,{value:v}),x]})]})}),[x,v,h,b]),S=(0,o.useMemo)((function(){return a?(0,m.jsx)(r.Z,{formLabel:p&&(0,m.jsx)(f,{children:p}),children:Z}):(0,m.jsx)(m.Fragment,{children:Z})}),[a,Z,p]);return(0,m.jsx)(s.Z,{theme:"grey",bg:n,bgPos:t,bgWidth:1600,bgColor:"#CDE3F0",children:(0,m.jsx)(c,{needGradient:y,children:(0,m.jsx)(l,{children:S})})})}},1095:function(e,n,t){"use strict";t.d(n,{Z:function(){return S}});var r=t(7294),i=t(5893),s=function(e){var n=e.children,t=e.name,r=void 0===t?"address":t,s=e.centred,o="fr-text--lg fr-my-2w fr-grid-row ".concat(s?"fr-grid-row--center":"fr-grid-row--left");return(0,i.jsx)("label",{className:o,htmlFor:r,children:(0,i.jsx)("span",{children:n})})},o=t(341),a=function(e){var n=e.suggestions;return(0,i.jsx)(o.Gk,{children:n.map((function(e,n){var t=e.properties;return(0,i.jsx)(o.O2,{value:t.label},t.id+n)}))})},c=t(29),l=t(6835),u=t(7794),d=t.n(u),g=t(9341),f=t(7954),m=t.n(f),p=t(3598),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{limit:5,autocomplete:!1,debounceTime:300},n=e.limit,t=e.autocomplete,i=e.debounceTime,s=r.useState([]),o=(0,l.Z)(s,2),a=o[0],u=o[1],f=r.useState(g.qb.Idle),h=(0,l.Z)(f,2),b=h[0],v=h[1],x=r.useRef(!0),y=3,Z=(0,p.Su)(),S=Z.suggestionService,k=m()(function(){var e=(0,c.Z)(d().mark((function e(r){var i,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(i=r.trim())&&x.current&&!(i.length<=y)){e.next=4;break}return e.abrupt("return");case 4:return v(g.qb.Loading),e.next=7,S.fetchSuggestions(i,{limit:n.toString(),autocomplete:t.toString()});case 7:s=e.sent,u(s.features),v(g.qb.Success),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),v(g.qb.Error),console.log({error:e.t0});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}(),i);return r.useEffect((function(){return function(){x.current=!1}}),[]),{suggestions:a,status:b,fetchSuggestions:k}},b=t(7379),v=function(e){var n=e.placeholder,t=void 0===n?"":n,r=e.onChange;return(0,i.jsx)(o.gA,{className:"fr-input",type:"text",id:"address",name:"address",placeholder:t,onChange:r})},x=function(e){var n=e.text,t=void 0===n?"Aucune adresse trouv\xe9e :(":n;return(0,i.jsx)("p",{style:{margin:0,color:"#454545",padding:"0.25rem 1rem 0.75rem 1rem",fontStyle:"italic"},children:t})},y=(0,b.vJ)([".fr-input{transition:box-shadow .5s ease;color:#000074;:focus{box-shadow:inset 0 -2px 0 0 #000074;}}.fr-input-wrap{box-shadow:0 0 5px rgb(0 0 0 / 74%);border-radius:.25rem .25rem 0 0;}"]),Z=function(e){return!!e.length},S=function(e){var n=e.label,t=void 0===n?"":n,c=e.emptySuggestionText,l=e.debounceTime,u=void 0===l?200:l,d=e.minCharactersLength,f=void 0===d?3:d,m=e.placeholder,p=void 0===m?"Recherchez une adresse":m,b=e.className,S=e.popoverClassName,k=e.centred,w=function(e,n){var t=h({debounceTime:n,limit:5,autocomplete:!1}),i=t.suggestions,s=t.fetchSuggestions,o=t.status,a=(0,r.useCallback)((function(n,t){var r=(0,g.Yu)(n,t);e(n,r)}),[e]);return{handleSelect:a,suggestions:i,fetchSuggestions:function(e,n){return e.length>=n&&s(e)},status:o}}(e.onAddressSelected,u),j=w.handleSelect,E=w.suggestions,P=w.fetchSuggestions,T=function(e){return"idle"!==e&&"loading"!==e}(w.status);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y,{}),(0,i.jsxs)("div",{className:"fr-input-group ".concat(b||""),children:[t&&(0,i.jsx)(s,{centred:k,children:t}),(0,i.jsxs)(o.hQ,{"aria-label":"address","aria-labelledby":"address",className:"fr-input-wrap fr-fi-search-line",onSelect:function(e){return j(e,E)},children:[(0,i.jsx)(v,{onChange:function(e){return P(e.currentTarget.value,f)},placeholder:p}),T&&(0,i.jsx)(o.SF,{className:S,children:Z(E)?(0,i.jsx)(a,{suggestions:E}):(0,i.jsx)(x,{text:c})})]})]})]})}},9341:function(e,n,t){"use strict";t.d(n,{Yu:function(){return i},dx:function(){return s},qb:function(){return r}});var r,i=function(e,n){var t=n.find((function(n){return n.properties.label===e}));return(null===t||void 0===t?void 0:t.geometry.coordinates)||[0,0]},s=function(e){return{lon:e[0],lat:e[1]}};!function(e){e.Idle="idle",e.Loading="loading",e.Success="success",e.Error="error"}(r||(r={}))},4861:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var r=t(29),i=t(6835),s=t(7794),o=t.n(s),a=t(1095),c=t(9341),l=t(1220),u=t(428),d=t(1163),g=t(7294),f=t(3598),m=t(5893),p=function(e){var n=e.formLabel,t=e.centredForm,s=e.children,p=function(){var e=g.useState("idle"),n=(0,i.Z)(e,2),t=n[0],s=n[1],a=g.useState(!1),c=(0,i.Z)(a,2),l=c[0],u=c[1],d=(0,f.Su)().heatNetworkService,m=g.useCallback(function(){var e=(0,r.Z)(o().mark((function e(n,t,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s("loading"),e.next=4,d.findByCoords(n);case 4:i=e.sent,a=i.isEligible,u(a),s("success"),t&&t(a,r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),s("error");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n,t,r){return e.apply(this,arguments)}}(),[d]);return{checkEligibility:m,isEligible:l,status:t}}(),h=p.status,b=p.checkEligibility,v=p.isEligible,x=(0,d.useRouter)().push,y=(0,u.R)(""),Z=(0,i.Z)(y,2),S=Z[0],k=Z[1],w=function(e,n){e?((0,l.Yk)(l.ZP.eligibilityTestOK.matomoEvent,[n||"Adresse indefini"]),(0,l.ZD)(l.ZP.eligibilityTestOK.linkedInEvent),(0,l.sv)("10794036298",l.ZP.eligibilityTestOK.googleAdsEvent)):((0,l.Yk)(l.ZP.eligibilityTestKO.matomoEvent,[n||"Adresse indefini"]),(0,l.ZD)(l.ZP.eligibilityTestKO.linkedInEvent),(0,l.sv)("10794036298",l.ZP.eligibilityTestKO.googleAdsEvent))},j=function(){var e=(0,r.Z)(o().mark((function e(n,t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,l.Yk)(l.ZP.eligibilityTest.matomoEvent,[n]),(0,l.ZD)(l.ZP.eligibilityTest.linkedInEvent),(0,l.$f)(l.ZP.eligibilityTest.facebookEvent),(0,l.sv)("10794036298",l.ZP.eligibilityTest.googleAdsEvent),r=(0,c.dx)(t),e.next=7,b(r,w,n);case 7:k({coords:[r.lat,r.lon],label:n});case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return(0,g.useEffect)((function(){"success"===h&&x({pathname:"/demande-de-contact",query:{isEligible:v}})}),[v,x,h,null===S||void 0===S?void 0:S.label]),(0,m.jsxs)(m.Fragment,{children:[s,(0,m.jsx)(a.Z,{label:n,placeholder:"Tapez ici votre adresse",centred:t,onAddressSelected:j})]})}},1163:function(e,n,t){e.exports=t(9898)}}]);